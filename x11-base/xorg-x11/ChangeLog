# ChangeLog for x11-base/xorg-x11
# Copyright 2000-2004 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/x11-base/xorg-x11/ChangeLog,v 1.229 2004/12/05 01:35:56 spyderous Exp $

  04 Dec 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  PATCH_VER 0.2.10. Add 0450_all_6.8.0-set-default-xkbmodel-to-pc105.patch. In
  the old 'keyboard' driver, pc105 was the default. Restore the new 'kbd'
  driver to the same. This is from upstream CVS. It may fix some bugs relating
  to certain keys not working. Add
  0455_all_6.8.0-prevent-keyboard-hardware-repeat.patch. (fd.o #1651) Filter
  out autorepeat scancodes from the keyboard, because X does this already.
  This is from upstream CVS. Add
  6200_all_6.8.0-fix-glxquerycontextinfo-libgl-segfault.patch. (fd.o #1672)
  Ian Romanick: the request structure for this case is never allocated, so we
  write through an uninitialized pointer if glx version > 1.2. This is from
  upstream CVS. Move 9930_all_6.8.1-xpm-secfix-CAN-2004-0914.patch from
  xpm-secfix-thomas.diff in FILESDIR. Add
  9930_all_6.8.1-xpm-secfix-CAN-2004-0914.patch. (fd.o #1924, #71842) The new
  sanity checks prevent using file names that start with a "/" which along
  with other checks wouldn't let you use libXpm to write files that aren't in
  or beneath the process's current working directory. This breaks GIMP's xpm
  plugin, among other things. Add 9945_all_6.8.1-xmodmap-overflows.patch.
  (fd.o #1818) Fix overflow in xmodmap. A less user-visible change is the
  switch from PatchChangelog to the DESCRIPTIONS file, which aims to describe
  the reason for every patch being applied. It's far from complete, but it's
  something.

  04 Dec 2004; Donnie Berkholz <spyderous@gentoo.org>;
  -xorg-x11-6.8.0-r2.ebuild:
  Remove stale, vulnerable version.

  23 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild, xorg-x11-6.7.0-r3.ebuild,
  xorg-x11-6.8.0-r1.ebuild, xorg-x11-6.8.0-r2.ebuild,
  xorg-x11-6.8.0-r3.ebuild, xorg-x11-6.8.0-r4.ebuild:
  Update homepage (#72274).

  23 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Work around portage bug with parentheses in PROVIDE.

  22 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Stop requiring the BREAKME variable. This should be to a point where it's
  working reasonably well.

  22 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Fix problem where one could end up with '/usr/lib/fonts' font paths in
  xorg.conf.example by adding a new sed match. This happens because we changed
  from /usr/X11R6/libdir to /usr/libdir.

  22 Nov 2004; Tom Gall <tgall@gentoo.org>;
  xorg-x11-6.7.0-r3.ebuild:
  stable on ppc64

  21 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Fix broken SRC_URI.

  21 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Only provide virtual/glu and virtual/opengl if USE=opengl. Also don't create
  GLU symlinks when USE=-opengl, since GLU isn't built.

  21 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Don't hide things behind USE=minimal that are already behind other USE
  flags, so we can combine minimal with various other things.

  21 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  For USE=minimal, remove all unnecessary fonts. This saves ~5.5MB.
  Unfortunately, this is a temporary hack -- we should really patch
  xc/fonts/bdf/misc/Imakefile to never build them in the first place. Also
  only add CID to G_FONTDIRS for USE=cjk, so other people don't have a symlink
  pointing to nothing.

  20 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  PATCH_VER 0.2.9. Add 1110_all_6.8.0-force-build-font-utils-if-needed.patch.
  USE=minimal will now start successfully, because enough fonts are built.
  When BuildClients is off and BuildFonts is on, mkfontscale and mkfontdir
  aren't built. But mkfontscale is used during the build process and mkfontdir
  is needed later, so we should build them anyway if UseInstalled isn't on.
  This fixes the USE=minimal build. Also, build the RGB database and xinit for
  a couple of non-essential but nearly always desired things. We require
  bdftopcf too. Also add xauth so startx works nicely. Problems still remain
  with switching back to the console using the ctrl-alt-Fn sequence, probably
  because of us not doing something with xkb. Don't worry about changing
  definition of i386Drivers because we don't use it anymore in USE=minimal.
  Only add i810 for amd64, rather than for everyone. GLU depends on GL being
  built, so fix that. XF86Rush similarly depends on XV.

  20 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Commit it properly this time.

  20 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Revert last commit, it had too much in it.

  20 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Reduce USE=minimal x86 drivers to: vmware vesa vga dummy fbdev v4l.

  19 Nov 2004; Tom Gall <tgall@gentoo.org> xorg-x11-6.8.0-r3.ebuild:
  revert to ~ppc64, needs work

  18 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  For USE=minimal, drop cursor sets other than core and handhelds.

  18 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  Add a backwards-compat symlink for /usr/X11R6/libdir/X11/config (#71654).

  18 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  For USE=uclibc, stop building glxgears and glxinfo. But build GLU library
  again.

  17 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>; :
  Update credits on xpm-secfix-thomas.diff.

  17 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r4.ebuild:
  PATCH_VER 0.2.8. Update Newport acceleration patch to
  5200_all_6.8.0-newport-accel-v3.patch (#38549). This fixes a red/blue swap
  for applications using RENDER acceleration such as gnome-terminal, gvim and
  xchat2.

*xorg-x11-6.8.0-r4 (17 Nov 2004)

  17 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +xorg-x11-6.8.0-r4.ebuild:
  Add xpm-secfix-thomas.diff. This is a continuation of the hard-masked 6.8.0-r2.

  17 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r3.ebuild:
  Remove ppc64-specific relinking for dlloader issues, because it's fixed in
  6.8. Requested by Markus Rothe <corsair@gentoo.org>.

*xorg-x11-6.8.0-r3 (17 Nov 2004)

  17 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +files/xpm-secfix-thomas.diff, +xorg-x11-6.7.0-r3.ebuild,
  +xorg-x11-6.8.0-r3.ebuild:
  Security update: Add xpm-secfix-thomas.diff to fix many issues, including:
  integer issues resulting in infinite loops and buffer overflows; a one-byte
  buffer overflow; stack-based overflows with sprintf() and string functions;
  replaces popen() with s_popen(); path traversal issues; buffer underruns;
  and memory leaks (missing free(), found by Egbert Eich). Patch by Thomas
  Biege and Matthiew Herrb. Petr Mladek identified the initial vulnerabilities
  and provided a patch that was later expanded on. Jacques A. Vidrine aided in
  the code audit and patch review. This issue is identified as CAN-2004-0914.

  16 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  PATCH_VER 0.2.7. Update Newport acceleration patch to
  5200_all_6.8.0-newport-accel-v2.patch. This fixes an error "structure has no
  member named `PUToScreenTextureDstFormats'," which should start with CPU,
  not PU. It also moves the autoloading of the xaa module around (#38549).
  Newport acceleration patch is by Dominik Behr, with mods by Adam Jackson.
  Drop 0155_all_4.3.0-Xi-Xinitthreads-locking-bug.patch. It was fixed in an
  alternate way in the release, and this was causing problems with totem and
  kaffeine (#64929, #59746, maybe #60131). Add
  6100_all_6.8.0-xnest-uninitialized-GetWindowPixmap.patch (#70431). Alexander
  Gottwald says on fd.o #1404: "pScreen->GetWindowPixmap is never initialized
  in Xnest startup and contains random data. After some server resets it
  crashes with segfault because pScreen->GetWindowPixmap is called but is not
  a valid function. A quick fix was to set the complete ScreenRec structure to
  null after allocating it in dix/main.c (AddScreen)."

  15 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild, xorg-x11-6.8.0-r2.ebuild:
  Bug number for no-sse2 is 57602, not 56702. Thanks cyfred.

  15 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  In backward_compat_setup(), add a symlink for the keysym database, XKeysymDB
  (#70927). Also fix a hard-coded lib rather than get_libdir.

  04 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add 'minimal' USE flag. It turns off the build of most clients and all
  fonts, as well as a number of drivers I guessed would be mostly unused by
  people wanting this functionality (video drivers turned off only for x86).
  It also stops installing the man pages and docs, as well as Xvfb and Xnest.
  Finally, it doesn't install Gentoo custom cursors. On a minimal test build
  with USE="-3dfx +3dnow -bitmap-fonts -cjk -debug -dlloader -dmx -doc
  -font-server -hardened -insecure-drivers -ipv6 +minimal +mmx -nls -opengl
  -pam -sdk +sse -static -truetype-fonts -type1-fonts -xprint -xv", the total
  installation was 28M.

  04 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Increase functionalization to the point that the primary functions are
  actually readable.

  04 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Reorganize functions, so primary ebuild functions are at the top and
  sub-functions are below them. This gives us a big-picture view to start,
  followed by all the nitty gritty.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add some einfo about the /usr/X11R6/libdir -> /usr/libdir move.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add a sed to change RgbPath to the new location in config files. Reported by
  agaffney. Symptoms include things like "can't load color "Black"" or
  "Couldn't open RGB_DB."

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add some more debugging CFLAGS to ALLOWED_FLAGS.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Rework gcc-version-dependent things to remove redundant calls to
  gcc-*-version(). Also, only strip -Os for <gcc-3.2.2 (#12775).

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Change SRC_URI order so the mirror://gentoo stuff is at the bottom. It
  should be searching them beforehand anyway.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  When removing stale GL stuff, only remove libGL.*, not libGL*. The latter
  catches libGLU* and others.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Missed another spot with a bad xkb symlink.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Fix a bug in the xkb symlink.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add some checking features to migrate_usr_x11r6_lib() so we don't redo
  things that were already done. Also, migrate xkb stuff properly.

  03 Nov 2004; Markus Rothe <corsair@gentoo.org> xorg-x11-6.8.0-r1.ebuild:
  Marked ~ppc64; bug #67403

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Wrap font-server USE around things affecting /etc/X11/fs/config.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Combine the dri USE flag into the opengl USE flag, since there's no way to
  control just the build of the 3D drivers at present.

  03 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  PATCH_VER 0.2.6. Add 9990_x86_6.8.0-xbox-20041024.patch for the Xbox's
  nvidia driver (#68726). Add 1100_all_6.8.0-build-all-lucida-fonts.patch
  (#68414). The 75dpi and 100dpi fonts weren't being built. This is from
  upstream CVS. Add 5200_all_6.8.0-newport-accel.patch (#38549). Hopefully
  will go upstream. This adds acceleration for Newport video cards (mostly
  MIPS users). Add 5160_all_6.8.0-radeon-fix-monitor-detection.patch (#67845,
  fd.o #1559). This fixes issues with dual-monitor setups not being detected
  properly. Add
  0440_all_6.8.0-support-cymotion-master-and-ibm-space-saver-keyboards.patch
  (#63767). This adds support for the Cherry CyMotion Master XPress and the
  IBM Space Saver keyboards. It's from upstream CVS. FILES_VER 0.6. Add
  xprint.init, a Gentoo-style init-script wrapper for the RH-style init script
  provided by xorg, and install it on USE=xprint (#68316). In addition, fix
  the function for migration from /usr/X11R6/libdir to /usr/libdir,
  migrate_usr_x11r6_lib(). It now works properly even when .keep files are
  left behind and when /usr/libdir/X11 is a symlink.

  02 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Try to fix ${ROOT} support -- it's assumed to be a chroot. To aid this, also
  make all symlinks relative.

  02 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add a symlink "../../../lib/xkb /usr/X11R6/lib/X11/xkb" so libxklavier and
  other things looking for that location continue to work.

  01 Nov 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add blocker on app-text/dgs, since they install the same libs. Need to
  confirm compilation of its deps, however.

  29 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Sync opengl-update deps in DEPEND and RDEPEND.

  29 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add migrate_usr_x11r6_lib() to aid migration from /usr/X11R6/libdir to
  /usr/libdir. Thanks to jstubbs for an idea. Also move update_config_files()
  to a more appropriate place.

  28 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  USE=xv wrongly requires USE=opengl, but this is a bug in the source
  (#67996). Forcing them to be used together until upstream fixes it.

  28 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  /usr/libdir, not /usr/libdir/X11.

  28 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Modify opengl-update dep, the token wasn't quite matching the proper versions.

  28 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Change glx USE to opengl.

  28 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Update opengl-update dep to >=2* for /usr/lib move.

  24 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>; metadata.xml:
  Fix herd case.

  21 Oct 2004; Aron Griffis <agriffis@gentoo.org> xorg-x11-6.8.0-r1.ebuild:
  stable on alpha and ia64

  20 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  FILES_VER 0.5. Update /etc/env.d/10xorg to reflect shift from
  /usr/X11R6/{lib,lib64} to parallel in /usr/lib.

  20 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  PATCH_VER 0.2.5. Add 6000_all_6.8.0-libgl-double-free.patch to stop a libGL
  segfault when /dev/dri/card* is not readable for a user (fd.o #1501).

  20 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Change xfs USE to font-server to stop duplication with xfs filesystem.

  20 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild, xorg-x11-6.8.0-r1.ebuild,
  xorg-x11-6.8.0-r2.ebuild:
  Update inherit to toolchain-funcs instead of gcc and x11 instead of xfree.
  Update license syntax so I can commit.

  19 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  USE=dri requires USE=glx.

  19 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Coding style rework. Move logic operators to beginnings of lines rather than
  ends; Keep 'then' on same line as 'if', same for 'for' and 'do'; indent ';;'
  of case statements one tab past the current switch.

  19 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Tons of code cleanups, again thanks to mr_bones_. There are a few more left in
  the TODO list.

  19 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add die messages. Also try emake -C instead of moving into a dir, make, then
  moving out.

  19 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Move some variables to locals. Note that all of this cleanup is thanks to
  mr_bones.

  19 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Change negative uses to bash style instead of portage-specific one.

  18 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Replace all commands in backticks `` with commands in $().

  18 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild, xorg-x11-6.8.0-r2.ebuild:
  Combine two consecutive instances of "use ! bitmap-fonts."

  18 Oct 2004; Stephen P. Becker <geoman@gentoo.org>
  xorg-x11-6.8.0-r1.ebuild:
  stable on mips wrt bug 67326

  18 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Commit initial changes for moving /usr/X11R6/lib to /usr/lib.

  17 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild, xorg-x11-6.8.0-r2.ebuild:
  Fix problem for lib64 get_libdir users that resulted in *.la files not being
  installed (#67729).

  14 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild, xorg-x11-6.8.0-r1.ebuild,
  xorg-x11-6.8.0-r2.ebuild:
  Update ebuild to reflect that gcc-getCC no longer exports CC.

  13 Oct 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.8.0-r1.ebuild:
  stable on amd64

  13 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild, xorg-x11-6.8.0-r2.ebuild:
  Bad logic on BuildXprintLib. It should've been defined only when the rest of
  xprint WASN'T built, because when xprint is built, it's turned on
  automatically (#67400).

  13 Oct 2004; Guy Martin <gmsoft@gentoo.org> xorg-x11-6.8.0-r1.ebuild:
  Stable on hppa.

  12 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  x86. This should be ready to stable on other archs too. See bug #67326.

  12 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Fix keywords: remove everything except ~x86, since this is still hard-masked,
  in development and only tested on x86.

  12 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  PATCH_VER 0.2.2.1. Add 9940_all_6.8.0-libX11-stack-overflow.patch to fix a
  non-exploitable problem (fd.0 #1459). Add 5140_all_6.8.0-radeon-swsusp.patch
  to fix software suspend on Radeons (fd.o #1220). FILES_VER 0.4. Add
  /usr/X11R6/lib64 to LDPATH in /etc/env.d/10xorg, so things work for
  architectures that install to there.

  12 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  PATCH_VER 0.2.4. Add 9940_all_6.8.0-libX11-stack-overflow.patch to fix a
  non-exploitable problem (fd.0 #1459). Add 5140_all_6.8.0-radeon-swsusp.patch
  to fix software suspend on Radeons (fd.o #1220). FILES_VER 0.4. Add
  /usr/X11R6/lib64 to LDPATH in /etc/env.d/10xorg, so things work for
  architectures that install to there.

  11 Oct 2004; Mike Frysinger <vapier@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild, xorg-x11-6.8.0-r1.ebuild, xorg-x11-6.8.0-r2.ebuild:
  remove baselayout DEPEND

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  PATCH_VER 0.2.3. Add 9910_all_use-nonow-ldflag-for-hardenedgccspecs.patch. In
  combination with HardenedGccSpecs YES, this will fix up a lot of the
  unresolved symbol problems with dlloader (#64618). Patch is by Adam Jackson
  <ajax@nwnk.net> with some mods by solar, applied to vanilla 6.8.0 by swtaylor
  and to ours by me. Pull 9970_all_dlloader-imake-fix.patch. Its functionality
  was pulled into patch 9910. Also bump to FILES_VER 0.3.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  PATCH_VER 0.2.2. Update 9001_all_4.3.0-lnx-evdev-keyboard-v2.patch to restore
  case insensitivity of Option "Protocol" "Standard" for keyboard by Alan
  Swanson <swanson@ukfsn.org> (#63568). FILES_VER 0.3. Fix xfs lockup so it's
  usable again (#61737). Also, fix xdm init script for empty DISPLAYMANAGER in
  /etc/rc.conf (#65586).

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add HardenedGccSpecs if USE="hardened dlloader" (#64618). A patchset is
  forthcoming.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add comment on what DMX actually is.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Do libGLU* stuff all in the same place.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add three new USE flags: truetype-fonts, type1-fonts and xv. The fonts ones
  enable building of that type of font, and xv enables the XVideo library and
  extension.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Allow FEATURES=nostrip to prevent stripping, and add ${CHOST}-strip support
  from solar (#66531).

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add uclibc support by making build a little more minimal with USE=uclibc,
  thanks to iggy.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Add dri and glx USE flags. dri builds direct rendering support into drivers.
  glx builds the GLX library and extension. The dri flag is a subset of the glx
  flag.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Fix up dependency list, thanks to iggy.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r2.ebuild:
  Make font server optional with xfs USE flag.

*xorg-x11-6.8.0-r2 (11 Oct 2004)

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +xorg-x11-6.8.0-r2.ebuild:
  Add in-progress ebuild. It's broken, don't waste your time trying it yet.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  Remove bogus sgmltools-lite dependency.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  Disallow USE="dmx doc" (#63548).

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  Build libXp even when USE=-xprint, at ajax's suggestion. RH does the same.
  USE=-xprint now disables the Xprt server and clients. This means we can remove
  xprint from make.defaults.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  Remove erroneous comment that seems to be enabling SDK.

  11 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  Fix best_version call so PAM is enabled.

  10 Oct 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  Fix new installs with USE=debug. X tries to use makeg, which doesn't exist on
  the system yet -- use the one within the source instead (#63759).

  29 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>;
  -xorg-x11-6.7.0-r1.ebuild, -xorg-x11-6.8.0.ebuild:
  Pull vulnerable versions (#64152).

  25 Sep 2004; Ferris McCormick <fmccor@gentoo.org> xorg-x11-6.8.0-r1.ebuild:
  Stable for sparc, clearing Bug 64152 on sparc. See also Bug 63994.

  22 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>;
  -xorg-x11-6.7.99.902.ebuild, -xorg-x11-6.7.99.903.ebuild,
  -xorg-x11-6.7.99.904.ebuild:
  Drop 6.7.99.x builds.

  22 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild:
  x86 (#64152).

  22 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.8.0-r1.ebuild:
  PATCH_VER 0.2.1. Add
  0430_all_6.8.0-sparc-add-mach64-to-devel-dri-drivers.patch (#63994). This plus
  other ebuild modifications from that bug should enable sparc guys to use
  6.8.0-r1. Ebuild mods include adding hardened flag for sparc to append
  -fno-PIE and -fno-pie as well as change the assembler command. Also build the
  deprecated keyboard driver for sparc on kernels != 2.6 and a weird hack to
  stop a sparc32-SMP compiler bug (#56593).

  18 Sep 2004; Guy Martin <gmsoft@gentoo.org> xorg-x11-6.7.0-r2.ebuild,
  xorg-x11-6.8.0-r1.ebuild:
  Removed build of unneeded drivers. 6.7.0-r2 Stable on hppa.

  18 Sep 2004; Bryan Østergaard,,, <kloeri@gentoo.org>
  xorg-x11-6.8.0-r1.ebuild:
  Add ~alpha to keywords.

  18 Sep 2004; Stephen P. Becker <geoman@gentoo.org> xorg-x11-6.7.0-r2.ebuild,
  xorg-x11-6.8.0-r1.ebuild:
  6.7.0-r2 stable, 6.8.0-r1 testing on mips - bug 64152

  17 Sep 2004; Ferris McCormick <fmccor@gentoo.org> xorg-x11-6.7.0-r2.ebuild:
  Add ~sparc keyword, partially addressing bug 64152.  Testing needed before
  stable for sparc is appropriate.

  17 Sep 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.0-r2.ebuild:
  stable on amd64

  17 Sep 2004; Bryan Østergaard,,, <kloeri@gentoo.org>
  xorg-x11-6.7.0-r2.ebuild:
  Stable on alpha, bug 64152.

  17 Sep 2004; <SeJo@gentoo.org> xorg-x11-6.8.0-r1.ebuild:
  unstable ppc bug:64152

  17 Sep 2004; <SeJo@gentoo.org> xorg-x11-6.7.0-r2.ebuild:
  stable ppc bug:64152

*xorg-x11-6.8.0-r1 (16 Sep 2004)

  16 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +xorg-x11-6.8.0-r1.ebuild:
  PATCH_VER 0.2. Security release. Add
  9925_all_6.7.0-libXpm-CAN-2004-0687-CAN-2004-0688.patch to fix stack and
  integer overflows in libXpm (Chris Evans, Alan Coopersmith, Matthiew Herrb)
  (#64152).

  15 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild:
  PATCH_VER 1.3. Security release. Add
  9925_all_6.7.0-libXpm-CAN-2004-0687-CAN-2004-0688.patch to fix stack and
  integer overflows in libXpm (Chris Evans, Alan Coopersmith, Matthiew Herrb)
  (#64152). Also add 5170_all_6.7.0-xvideo-allocation.patch (#64092, fd.o #474),
  which made it into 6.8.0. 5170 should fix those annoying xvideo memory
  problems.

  15 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.8.0.ebuild:
  Fix SRC_URI inconsistency issues (#64117).

  14 Sep 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.8.0.ebuild:
  FILES_VER 0.2. Support any future display managers (#23957) and update MANPATH
  (#63645).

  14 Sep 2004; Stephen P. Becker <geoman@gentoo.org> xorg-x11-6.8.0.ebuild:
  Added -mtune to ALLOWED_FLAGS for mips.

  12 Sep 2004; Daniel Goller <morfic@gentoo.org> xorg-x11-6.8.0.ebuild:
   ppend -mno-sse2 with gcc3.4 for bug #57602 

  09 Sep 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.8.0.ebuild:
  check XF86Config-4, and also fix the if condition

  09 Sep 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.8.0.ebuild:
  adjust the regex to fix bug #63425 by Don Seiler <rizzo@gentoo.org>

  09 Sep 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.8.0.ebuild:
  keyboard->kbd in XF86Config as well as xorg.conf

  08 Sep 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.8.0.ebuild:
  For users with cascading profiles, the bitmap-fonts and xprint USE flags will
  not show up yet. So echo a message out

  08 Sep 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.8.0.ebuild:
  fix logic in cjk/nls

*xorg-x11-6.8.0 (09 Sep 2004)

  09 Sep 2004; Andrew Bevitt <cyfred@gentoo.org>; +xorg-x11-6.8.0.ebuild:
  Xorg release 6.8.0

  07 Sep 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.99.904.ebuild:
  create lib symlink in /usr/$(get_libdir)/opengl/xorg-x11/ if $(get_libdir) !=
  lib. fixes bug 62990

  06 Sep 2004; Ciaran McCreesh <ciaranm@gentoo.org> xorg-x11-6.7.0-r1.ebuild,
  xorg-x11-6.7.0-r2.ebuild, xorg-x11-6.7.99.902.ebuild,
  xorg-x11-6.7.99.903.ebuild, xorg-x11-6.7.99.904.ebuild:
  Switch to use epause and ebeep, bug #62950

  04 Sep 2004; Seemant Kulleen <seemant@gentoo.org>
  xorg-x11-6.7.99.904.ebuild:
  ok, ready to me unmasked. This is the Swegener-Rocks Release for Gentoo. The
  not-enough-xv-memory should go away with mplayer with this. Additionally, this
  closes bug #60470 from Spanky.

  03 Sep 2004; Seemant Kulleen <seemant@gentoo.org>
  xorg-x11-6.7.99.904.ebuild:
  ok this is still -*'d -- please don't file bugs about segfaults and fonts
  errors. Those are known issues and we're working on them.

*xorg-x11-6.7.99.904 (02 Sep 2004)

  02 Sep 2004; Seemant Kulleen <seemant@gentoo.org>
  +xorg-x11-6.7.99.904.ebuild:
  copy ebuild over, for coming version bump

  31 Aug 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.99.903.ebuild:
  I've added an override for amd64 that will use lib64 as the lib directory even
  when CONF_LIBDIR isnt lib64. This should allow for bug 62110 to be fixed
  (locales broken for 32bit apps).

  30 Aug 2004; Seemant Kulleen <seemant@gentoo.org>
  xorg-x11-6.7.99.903.ebuild:
  add patch for dlloader fix from ajax in the fd.o bugzilla

  29 Aug 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.99.903.ebuild:
  made xorg-x11-6.7.99.903 CONF_LIBDIR aware for installing to lib64 instead of
  lib

*xorg-x11-6.7.99.903 (28 Aug 2004)

  28 Aug 2004; Seemant Kulleen <seemant@gentoo.org>
  +xorg-x11-6.7.99.903.ebuild:
  version bump to latest snapshot.  ppc should work with this

  28 Aug 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.99.902.ebuild:
  added a host.def define (StaticNeedsPicForShared) for amd64 that fixes the
  problem with building gdm or kdebase PIE

  25 Aug 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.99.902.ebuild:
  Delete encodings that make ttmkfdir segfault: large/cns11643-1.enc
  large/cns11643-2.enc large/cns11643-3.enc suneu-greek.enc (#60470).

  25 Aug 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.99.902.ebuild:
  Add some more debugging support. Add '-gstabs+ -gstabs -ggdb' to
  ALLOWED_FLAGS. Also, cause USE=debug to prevent stripping of binaries and
  libraries.

  22 Aug 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0-r2.ebuild,
  xorg-x11-6.7.99.2.ebuild, xorg-x11-6.7.99.902.ebuild:
  replace-cpu-flags had args in the wrong order, resulting in p3's being
  compiled with p4 badness (#60597).

  21 Aug 2004; Seemant Kulleen <seemant@gentoo.org>
  xorg-x11-6.7.99.902.ebuild:
  OK, this is the real ebuild. I'm calling this the
  Latexer-isnt-made-from-rubber release. Test away, and look for xcompmgr in
  x11-misc

*xorg-x11-6.7.99.902 (21 Aug 2004)

  21 Aug 2004; Seemant Kulleen <seemant@gentoo.org>
  +xorg-x11-6.7.99.902.ebuild:
  Version bump to rc2, but this is an identical ebuild to 99.2 just so we can
  easily make diffs of the changes. Real ebuild to follow momentarily

  20 Aug 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.7.99.2.ebuild:
  fix sed properly, thanks to ciaranm and swegener

  14 Aug 2004; Seemant Kulleen <seemant@gentoo.org> xorg-x11-6.7.99.2.ebuild:
  nothing separate to unpack for USE=doc, since we're using one tarball

  13 Aug 2004; Brandon Hale <tseng@gentoo.org> xorg-x11-6.7.99.2.ebuild:
  Minor adjustment to einfo for USE=dlloader, rework sed to replace keyboard
  with kbd driver, move that bit into setup_config_files and clean up that
  function a bit.

*xorg-x11-6.7.99.2 (13 Aug 2004)

  13 Aug 2004; Seemant Kulleen <seemant@gentoo.org> +xorg-x11-6.7.99.2.ebuild:
  New snapshot: FOR TESTING ONLY.  I'm calling this the "Use Ajax for
  everything" release in portage.

  02 Aug 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0-r2.ebuild:
  fc-cache -f breaks the font eclass, according to foser.

  02 Aug 2004; Donnie Berkholz <spyderous@gentoo.org>; :
  Note that the last commit was FILES_VER 0.3.

  02 Aug 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0-r2.ebuild:
  Fix font setup (#53753). Previously we trashed fonts.scale for all scalable
  fonts, even though we only regenerated it for TrueType fonts. ttmkfdir can't
  regenerate fonts.scale for Type1 or OpenType fonts, so we start using
  mkfontscale for that. We trashed any other fonts.scale files that happened to
  be around, such as Speedo/CID. We stop doing that. Also fixed the regexps in
  the ebuild and the xfs init script to use ttmkfdir for TrueType only and
  mkfontscale for Type1 and OpenType. Change INFODIR to INFOPATH also (#54275).
  Also update Gentoo copyright and licensing info in files tarball to be
  consistent with everything else.

  28 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0-r2.ebuild:
  Add more info on pam-X circular dep (#54378, #35468).

  26 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0-r2.ebuild:
  Add ${ROOT} to absolute path references that need it.

  24 Jul 2004; Stephen P. Becker <geoman@gentoo.org> xorg-x11-6.7.0-r1.ebuild,
  xorg-x11-6.7.0-r2.ebuild:
  -r1 stable, -r2 testing on mips

  20 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r2.ebuild:
  Remove commented-out 'HasMotif YES' #define (#57271). Part of what patch 9385
  was intended to fix was actually committed post-6.7.0, so it wasn't here to
  start with. If anyone requests motif support, we'll look into some sort of
  conditional enabling, probably similar to pam's, to avoid circular
  dependencies.

  19 Jul 2004; Martin Schlemmer <azarah@gentoo.org> xorg-x11-6.7.0-r2.ebuild:
  Enabling Motif by default is is bogus, as XFree86/XOrg-X11 have never been
  built against Motif, and 9385_all_6.7.0-motif-allow-fhs-and-default-off.patch
  do not enable/disable it, but just addsome more bits _if_ and _only_if_ its
  enabled in host.def, which it never was ...
  
    http://bugs.gentoo.org/show_bug.cgi?id=57271#c21

  17 Jul 2004; David Holm <dholm@gentoo.org> xorg-x11-6.7.0-r2.ebuild:
  Added to ~ppc.

  17 Jul 2004; Andrew Bevitt <cyfred@gentoo.org>; xorg-x11-6.7.0-r2.ebuild:
  Adding ~amd64 keyword, tested and inline for opengl-update commits

  16 Jul 2004; Tom Gall <tgall@gentoo.org> xorg-x11-6.7.0-r2.ebuild:
  stable on ppc64 baby!

  16 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0-r2.ebuild:
  Update TODOs.

*xorg-x11-6.7.0-r2 (16 Jul 2004)

  16 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +xorg-x11-6.7.0-r2.ebuild:
  PATCH_VER 1.2. Add
  9395_all_6.7.0-savage-disable-xrandr-for-shadowfb-rotate.patch, given to Tim
  Roberts by anonymous user, posted to devel@xfree86.org mailing list. Without
  this patch, an attempt to use Xrandr with shadowFB-based rotation will result
  in an unusable display. Add
  9390_all_6.7.0-add-french-belgian-azerty-ppc-keyboard.patch, which adds a
  keymap new in G4/G5 macs (#49155). Add
  9385_all_6.7.0-motif-allow-fhs-and-default-off.patch, which looks outside of
  /usr/X11R6 for motif and defaults it to OFF on Linux and BSD. Add
  9375_all_6.7.0-radeon-resume-from-S3-suspend.patch (#48095), which allows the
  ACPI S3 suspend state to work for at least some Radeons. Add
  9000_all_4.3.0-lnx-evdev-core.patch, 9001_all_4.3.0-lnx-evdev-keyboard.patch
  and 9002_all_6.7.0-lnx-evdev-mouse.patch from xfree-4.3.0-r7 to add event
  interface device support (#29953, #56159). Add
  9010_all_4.3.0-logitech-ps2-plusplus.patch from xfree-4.3.0-r7 to add support
  for the PS/2++ protocol used by some of the newer Logitech mice (#29953,
  #56159). Add 9365_all_6.7.0-fix-render-cplastbit-def.patch to correct the
  definition of CPLastBit to account for ComponentAlpha, which may fix behavior
  of the server's SetPictureToDefaults. Add
  9370_all_6.7.0-install-xrender-pkgconfig-file.patch to install xrender.pc in a
  cleaner way than former manual hack. OTHER CHANGES: Install glext.h to
  /usr/lib/opengl/xorg-x11 like the other GL includes (#54984) and set up a
  symlink manually to avoid an opengl-update circular dependency. Pull out the
  external drop-in driver code entirely to clean up the ebuild. Enable the i810
  driver on x86_64 (RH #126687). Set HasMotif to YES in the ebuild to counteract
  9385_all_6.7.0-motif-allow-fhs-and-default-off.patch.

  16 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  USE flag pie renamed to dlloader. Remove USE flag hardened, because it did
  nothing.

  16 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Build dlloader things for ppc64 and relink them properly (#56248).

  10 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Bump opengl-update requirement from >=1.7 to >=1.7.2 to make sure people don't
  get caught up.

  10 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  x86

  06 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Allow pie+sdk builds, now that we added patch for it.

  06 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  PATCH_VER 1.1.1. Move ppc64 patch over from its formerly bad placement as a
  separate file into the patchball as
  9360_all_6.7.0-ppc64-support-updates.patch. Add
  4152_all_4.3.0-allow-xdm-server-quotes.patch from xfree-4.3.0-r7 (#38232).
  This allows quoted expressions in /etc/X11/xdm/Xservers to be used properly.
  Add 0425_all_6.7.0-sun-type6-keyboard.patch from xfree-4.3.0-r7 (#21120),
  ported by reporter. Add 9855_all_6.7.0-fix-SDK-pie-build.patch to fix a module
  naming problem on pie builds, which resulted in the SDK install breaking
  (#50562). Add 9355_all_6.7.0-xorgconfig-fontdir-fixes.patch, which stops the
  tool from adding /usr/X11R6 font paths when fonts are installed elsewhere
  (#54132). Also update TODO and add a little more warning for the auto-PAM
  stuff. This should be ready to go stable on x86 if nothing huge comes up.

  05 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>; -xorg-x11-6.7.0.ebuild:
  Pull old version, vulnerable to security hole.

  05 Jul 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Update TODO to more realistically reflect time to stable for x86.

  30 Jun 2004; Aron Griffis <agriffis@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  stable on ia64 #53226

  24 Jun 2004; Aron Griffis <agriffis@gentoo.org> xorg-x11-6.7.0-r1.ebuild,
  xorg-x11-6.7.0.ebuild:
  QA - fix use invocation

  23 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild, xorg-x11-6.7.0.ebuild:
  Update TODOs.

  21 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Forgot to stop building xterm, somehow (#54051).

  19 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Move how font directories are defined into a host.def setting.

  16 Jun 2004; Luca Barbato <lu_zero@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  Marked ppc for security reason, see Bug #53226

  16 Jun 2004; Ciaran McCreesh <ciaranm@gentoo.org> :
  Digest fix, looks like tgall forgot FEATURES=cvs

  16 Jun 2004; Jeremy Huddleston <eradicator@gentoo.org>
  xorg-x11-6.7.0-r1.ebuild:
  Added ~amd64.

  15 Jun 2004; David Holm <dholm@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  Added to ~ppc.

  14 Jun 2004; Tom Gall <tgall@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  ~ppc64 initial x support #53763

  14 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Major refactoring of code. No end-user difference, so no bump.

  14 Jun 2004; Ferris McCormick <fmccor@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  Marked stable for sparc (Bug 53226).

  13 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  xorg-x11-6.7.0-r1.ebuild:
  Workaround for #50562 -- disallow pie+sdk build.

  13 Jun 2004; Stephen P. Becker <geoman@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  Added ~mips keyword -- bug 53226

  12 Jun 2004; Bryan Østergaard <kloeri@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  ~alpha keyword, bug #53226.

  11 Jun 2004; Ferris McCormick <fmccor@gentoo.org> xorg-x11-6.7.0-r1.ebuild:
  Add ~sparc keyword. (Bug 53226)

*xorg-x11-6.7.0-r1 (11 Jun 2004)

  11 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>;
  +xorg-x11-6.7.0-r1.ebuild:
  PATCH_VER 1.1. Add 9920_all_6.7.0-xdm-open-chooserfd-CAN-2004-0419.patch to
  stop xdm from ignoring its "DisplayManager.requestPort" setting. xdm opens its
  "chooserFd" TCP socket on all network interfaces without this patch (xf86
  #1376). Update 9840_all_4.3.0-SDK-add-missing-includes-for-gatos-v2.patch for
  new gatos -- another include needed (battousai@gentoo.org). Update
  0120_all_4.3.99-parallel-make-v2.patch to remove a patched-in .rej and some
  patched-in .orig's (#49455). Update 0126_all_4.2.99.3-startx-v2.patch to
  remove pointless dependency on xvt (#49455). Big chunk of backports from CVS:
  9305_all_6.7.0-chips-segfault-on-mode-switch-and-video-overlay.patch to fix a
  segfault on video mode switching when pScrn->currentMode does not contain a
  valid mode. Also fix video overlays for double scan modes; Add
  9310_all_6.7.0-config-cf-cleanup.patch to clean up xorg.cf by factoring out
  many common defines. Make the fbdev driver only build on Linux (fbdevhw is
  just stubs on other OSes). Add AFB to AMD64 build, and include
  XF86OSCardDrivers. I continue adding things that aren't supported under Gentoo
  (BSD-related, or other archs) because I want to pre-emptively have work done
  for any ports. Also, it makes other backports easier. (fd.o #448, 449); Add
  9315_all_6.7.0-fb-render-fixes.patch to fix problems in render fb
  implementation found by rendercheck; Add
  9320_all_6.7.0-getconfig-xorg-name.patch to fix problem with getconfig where
  file '/usr/X11R6/lib/X11/getconfig/xorg.cfg' has bad signature (Change "Xorg
  Project" to "Xorg Foundation" to match getconfig script) (fd.o #678); Add
  9325_all_6.7.0-improve-xdm-auth-1-cookie.patch to improve 'uniqueness' of
  authorization cookie sent by client for XDM-AUTHORIZATION-1. Old 'uniqueness'
  consisted of the PID of the client, a time stamp (in seconds) and a number
  obtained by starting to count down from 0xffff. When a client did an
  XOpenDisplay() then execv'ed a child and did XOpenDisplay() again within the
  same second, the cookie was identical to the previous one (as the PID did not
  change but the static 'count down' variable was reinitialized) and thus
  refused by the server; Add 9330_all_6.7.0-link-with-pam-on-pam-builds.patch to
  link with PamLibraries if building with PAM support; Add
  9335_all_6.7.0-modular-imake-build.patch to fix build glitches when building
  modules independently using Imake; Add
  9340_all_6.7.0-remove-xmu-dep-on-xaw-header.patch to remove Xaw header
  dependency from Xmu library build (fd.o #634); Add
  9345_all_6.7.0-unlock-xauthority-on-sigpipe.patch to make xauth unlock
  .Xauthority on SIGPIPE (fd.o #550); Add
  9350_all_6.7.0-xrender-xorgconfig-xdmcp-msgs.patch to muffle compiler warnings
  in lib/Xrender/Xrender.c, fix an option name in a log message of
  programs/Xserver/hw/xfree86/common/xf86Configure.c and improve debugging
  messages in programs/xdm/xdmcp.c.

  03 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; :
  Add credit for netwinder.org ARM patch.

  03 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 1.0. This patchset should get xorg-x11-6.7.0 ready to go stable on
  all archs that have tested it. Many of them have already stabled it, so I'm
  holding some non-crucial patches out for 6.7.0-r1.
  
  -Add 9210_all_XFree86-4.3.0-arm32-compiler.h.patch (#52707) from
  netwinder.org. This fixes compiles for the ARM architecture. Patch from PhilB,
  according to netwinder's RPM spec file.
  -Add 9215_all_xorg-x11-6.7.0-char-bit-and-ia64-asm-page.patch to remove a
  compiler-intrinsic define since it dies on makedepend otherwise (fd.o #601),
  and fix the IA64 build (broken because it includes kernel header asm/page.h,
  which doesn't work with -ansi) (fd.o #605).
  -Add 9220_all_xorg-x11-6.7.0-install-vera-italic.patch to install VeraIt.ttf.
  It was getting left out. Patch from xorg CVS by Eric Anholt.
  -Add 9225_all_xorg-x11-6.7.0-install-xfree86-lst.patch (fd.o #531) to install
  xfree86.lst. This should fix some XKB problems.
  -Add 9230_all_xorg-x11-6.7.0-try-tcp-without-local-and-fix-ipv6-xdmauth-
  segfault.patch to make XOpenDisplay try tcp connection if local fails (fd.o
  #546), and fix Xlib segfaults with IPv6 if compiled with HASXDMAUTH (NetBSD
  #25098).
  -Add 9235_all_xorg-x11-6.7.0-libxf86config-monitor-freq-fix.patch from RH.
  This prevents writing out the HorizSync/VertRefresh lines commented out, which
  forces all default X config files written out by this library to rely on DDC.
  Poor assumption that DDC is always available. Patch by Mike Harris.
  -Add 9240_all_xorgconfig-naming-xkb-font-path-fixes.patch to do a few things:
    - Clean up server name changes from TM branch
    - Set default XKB rules file name correctly
    - Use default font path from Imake configuration for the default font path
      in generated xorg.conf files.
    - Use path variables from Imake configuration for paths to files, in case
      vendor has configured them to install somewhere other than the defaults.
    Patch from xorg CVS by Alan Coopersmith.

  03 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Fix typo in xrender.pc generation, includ to include.

  02 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Fix generation of xrender.pc so version is resolved (#52843).

  03 Jun 2004; Pieter Van den Abeele <pvdabeel@gentoo.org> xorg-x11-6.7.0.ebuild:
  Masked stable on ppc

  02 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Work around upgrade problem where people have Option "XkbRules" "xfree86" in
  their config file.

  01 Jun 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Prevent -fomit-frame-pointer and k6 flags from being used together (#49310).

  29 May 2004; Ferris McCormick <fmccor@gentoo.org> xorg-x11-6.7.0.ebuild:
  Marked stable for sparc.

  29 May 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Force opengl-update to change to xorg-x11 if xfree is currently selected, else
  default to old behavior.

  28 May 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.7. Add 9860_all_xorg-xkb_winkeys.patch to fix broken windows keys
  (#48307).

  12 May 2004; Alexander Gabert <pappy@gentoo.org> xorg-x11-6.7.0.ebuild:
  removed hardened-gcc checks

  05 May 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Remove our custom SharedLibraryLoadFlags as a workaround until #49038 (fd.o
  #600) is fixed.

  25 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Update so gcc-3.4 is respected (#48933).

  21 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add a couple of missing definitions for USE=sse -- HasSSESupport and
  MesaUseSSE, from eikke on Freenode.

  19 Apr 2004; Aron Griffis <agriffis@gentoo.org> xorg-x11-6.7.0.ebuild:
  Add ~alpha and ~ia64

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.6. Add 9200_all_6.7.0-fix-zh-cn-utf8-crashes.patch, which fixes
  crashes when using core fonts in the zh_CN.UTF-8 locale. See fd.o bug #368.

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add them to IUSE.

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Don't autodetect MMX/SSE/3DNOW, it breaks cross-compilation.

  19 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Don't remove fonts.* or encodings.dir in dirs not provided by this package
  (#30698).

  18 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add more backwards compatibility things -- symlinks for all former font, doc
  and man dirs as well as autogeneration of new config files. Fix generation of
  xrender.pc.

  18 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add explicit xfree to blockers.

  18 Apr 2004; Travis Tilley <lv@gentoo.org> xorg-x11-6.7.0.ebuild:
  marking stable on amd64 with the full realisation that the normal time period
  for waiting to mark things stable has yet to be met. A security vulnerability,
  outlined in bug 48107, forced me to mark the new xine-lib stable on amd64,
  where it will not compile with any unmasked version of xfree due to -fPIC
  errors (see bugs 48261, 44274, and 40646). Xorg-x11 is the only truly stable
  and fully functional option on amd64! Xfree 4.3.0, in general, is simply not
  amd64-friendly. Please CC me for any bugs relating to xorg-x11.

  14 Apr 2004; Stephen P. Becker <geoman@gentoo.org> xorg-x11-6.7.0.ebuild:
  Added ~mips keyword.

  12 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  ~hppa at gmsoft's request.

  12 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.5. Add 9500_all_6.7.0-hppa-fixes.patch so it builds on HPPA. Add
  HPPA fixes to 5900_all_6.7.0-acecad-v2.patch. Thanks to Guy Martin
  <gmsoft@gentoo.org> for these.

  12 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.4. Add 9300_all_4.3.0-ncurses-xf86cfg-bool-conflict.patch to avoid
  conflict of bool between ncurses-5.4 and xf86cfg (#43491).

  11 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add some arch-specific CFLAGS mangling.

  11 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Added -g to ALLOWED_FLAGS at request of ajax on Freenode #xorg.

  10 Apr 2004; Jason Wever <weeve@gentoo.org> xorg-x11-6.7.0.ebuild:
  Added ~sparc keyword.

  10 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add sys-apps/util-linux to DEPEND, reported by IceD^ in Freenode #gentoo.

  09 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.3. Add 9110_all_xorg-6.7.0-pci-domains.patch to close #43630. This
  makes 2.6 kernels, sparc and X work together.

  09 Apr 2004; Luca Barbato <lu_zero@gentoo.org> xorg-x11-6.7.0.ebuild:
  Marked ~ppc

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Drop extra quote in OptimizedCplusplusDebugFlags.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add PATCH_VER to XVendorString. It could come in handy.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change XVendorString to be compatible with upstream so people can strstr for
  The X.Org Foundation.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add GccAliasingArgs to the optimized CFLAGS and CXXFLAGS setup, so we get
  -fno-strict-aliasing. This avoids broken code, pending a patch from Luca to
  fix.

  08 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Remove xterm from DEPEND, it's still in PDEPEND. I accidentally copied instead
  of pasted earlier.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Drop BuildLinuxDocText. It caused a bunch of docs to NOT be installed on
  USE=doc.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Use gcc-getCC instead of manual hack.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  PATCH_VER 0.2. Added 9400_all_4.3.0-mkcfm-FHS-install.patch to fix hard-coded
  path. Rework 9113_all_4.3.0-xterm-make-optional.patch to apply to xorg.cf
  instead of xfree86.cf and rename it
  9113_all_6.7.0-xterm-make-optional-v2.patch (#47100).

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Add x11-terms/xterm to PDEPEND.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change blocker on xfree to blocker on other virtual/x11.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  FILES_VER 0.2. Fix libGL.la path -- #47100.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Drop references to xterm since we're going external now.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change homepage to wiki.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; xorg-x11-6.7.0.ebuild:
  Change a couple of XF86Config references to xorg.conf.

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; :
  Looks like repoman doesn't auto-add Manifests.

*xorg-x11-6.7.0 (07 Apr 2004)

  07 Apr 2004; Donnie Berkholz <spyderous@gentoo.org>; metadata.xml,
  xorg-x11-6.7.0.ebuild:
  Initial commit.

