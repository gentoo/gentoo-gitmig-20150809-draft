diff -Nru dkim-milter-2.3.0.orig/devtools/Site/site.config.m4 dkim-milter-2.3.0/devtools/Site/site.config.m4
--- dkim-milter-2.3.0.orig/devtools/Site/site.config.m4	2007-10-10 06:35:16.000000000 +0300
+++ dkim-milter-2.3.0/devtools/Site/site.config.m4	2007-10-10 06:38:32.000000000 +0300
@@ -6,18 +6,21 @@
 dnl values described in devtools/README by setting your preferred values
 dnl in this file.
 
+dnl man build is broken
+define(`confNO_MAN_BUILD',`')
+
 dnl Debug binary 
 dnl
 dnl If you are encountering coredumps and want to be able to analyze them
 dnl using something like "gdb", enable this next line by deleting the "dnl"
 dnl at the front of it.
-dnl define(`confOPTIMIZE', `-g')
+define(`confOPTIMIZE', `@@CFLAGS@@')
 
 dnl libar -- asynchronous resolver library
 dnl
 dnl If you want to use the asynchronous resolver library, enable this
 dnl next line by deleting the "dnl" at the front of it.
-dnl define(`bld_USE_ARLIB', `true')
+define(`bld_USE_ARLIB', `true')
 dnl 
 dnl libar normally uses res_init() or res_ninit() to load the contents
 dnl of resolv.conf for its use.  If neither of these work on your system
@@ -82,7 +85,7 @@
 dnl APPENDDEF(`confENVDEF', `-D_FFR_REQUIRED_HEADERS ')
 dnl APPENDDEF(`confENVDEF', `-D_FFR_SELECT_CANONICALIZATION ')
 dnl APPENDDEF(`confENVDEF', `-D_FFR_SELECT_SIGN_HEADERS ')
-dnl APPENDDEF(`confENVDEF', `-D_FFR_STATS ')
+APPENDDEF(`confENVDEF', `-D_FFR_STATS ')
 dnl APPENDDEF(`confENVDEF', `-D_FFR_VBR ')
 dnl APPENDDEF(`confENVDEF', `-D_FFR_ZTAGS ')
 
diff -Nru dkim-milter-2.3.0.orig/dkim-filter/dkim-filter.conf.sample dkim-milter-2.3.0/dkim-filter/dkim-filter.conf.sample
--- dkim-milter-2.3.0.orig/dkim-filter/dkim-filter.conf.sample	2007-09-21 01:06:01.000000000 +0300
+++ dkim-milter-2.3.0/dkim-filter/dkim-filter.conf.sample	2007-10-10 14:28:16.000000000 +0300
@@ -20,13 +18,6 @@
 
 # AutoRestart		No
 
-##  Background { yes | no }
-##  	default "yes"
-##
-##  Indicate whether or not the filter should run in the background.
-
-# Background		Yes
-
 ##  BodyLengths { yes | no }
 ##  	default "no"
 ##
@@ -74,7 +65,7 @@
 ##  Specify for which domain(s) signing should be done.  No default; must
 ##  be specified for signing.
 
-Domain			example.com
+Domain			my-domain.com
 
 ##  ExternalIgnoreList filename
 ##
@@ -89,7 +80,7 @@
 ##  Specifies the path to the private key to use when signing.  Ignored if
 ##  Keylist is set.  No default; must be specified for signing.
 
-KeyFile			/var/db/dkim/example.private
+KeyFile			/etc/mail/dkim-filter/my-selector-name.private
 
 ##  KeyList filename
 ##
@@ -106,7 +97,7 @@
 ##  as the beginning of a comment.  See dkim-filter.conf(5) for more
 ##  information.
 
-# KeyList		/var/db/dkim/keylist
+# KeyList		/etc/mail/dkim-filter/keylist
 
 ##  InternalHosts filename
 ##
@@ -114,7 +105,7 @@
 ##  hosts from which mail should be signed rather than verified.
 ##  Automatically contains 127.0.0.1.  See man page for file format.
 
-# InternalHosts		filename
+# InternalHosts		/etc/mail/dkim-filter/internalhosts
 
 ##  MacroList macro[=value][,...]
 ##
@@ -177,22 +168,6 @@
 
 # PeerList		filename
 
-##  PidFile filename
-## 
-##  Name of the file where the filter should write its pid before beginning
-##  normal operations.
-
-# PidFile		filename
-
-##  POPDBFile filename
-##
-##  Names a database which should be checked for "POP before SMTP" records
-##  as a form of authentication of users who may be sending mail through
-##  the MTA for signing.  Requires special compilation of the filter.
-##  See dkim-filter.conf(5) for more information.
-
-# POPDBFile		filename
-
 ##  Quarantine { yes | no }
 ##  	default "no"
 ##
@@ -267,7 +242,7 @@
 ##  inet:port			to listen on all interfaces
 ##  local:/path/to/socket	to listen on a UNIX domain socket
 
-Socket			inet:port@localhost
+Socket			local:/var/run/dkim-filter/dkim-filter.sock
 
 ##  SubDomains { yes | no }
 ##  	default "no"
@@ -296,7 +271,7 @@
 ##  Change to user "userid" before starting normal operation?  May include
 ##  a group ID as well, separated from the userid by a colon.
 
-# UserID		userid
+UserID		milter
 
 ##  UseSSPDeny { yes | no }
 ##  	default "no"
@@ -314,3 +289,10 @@
 ##  messages it has processed.
 
 # X-Header		No
+
+##  Statistics filename
+##
+##  Names a file to which useful statistics will be saved.
+##  See man dkim-stats page
+
+Statistics		/var/run/dkim-filter/dkim-filter.stats
