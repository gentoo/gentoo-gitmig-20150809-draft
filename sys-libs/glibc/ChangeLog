# ChangeLog for sys-libs/glibc
# Copyright 2002-2003 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/sys-libs/glibc/ChangeLog,v 1.72 2003/07/29 14:11:52 coronalvr Exp $

  29 Jul 2003; Alex Veber <coronalvr@gentoo.org> glibc-2.3.2-r1.ebuild:
  removed the winex block

  28 Jul 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r3.ebuild:
  Do not install librt.so linker script anymore, as librt.so.1 breaks things
  with librt.so as a script.

*glibc-2.3.2-r3 (23 Jul 2003)

  23 Jul 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r3.ebuild:
  Update CVS snapshot, as well as NPTL version to 0.55.  Note that this
  needs gcc-3.3-r1 and latest binutils (2.14.90.4+) to build with NPTL
  support.

  23 Jul 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r1.ebuild,
  glibc-2.3.2-r2.ebuild:
  From Kumba <kumba@gentoo.org>:

    This is the patch to glibc-2.3.2-r1.ebuild which allows it to build
    on sparc64.  I modified it so sparc and sparc64 can use the -fcall-used-g6
    flag, while sparc64-only gets a few more checks added in.

  18 Jul 2003; Olivier Crete <tester@gentoo.org> glibc-2.3.2-r2.ebuild:
  Removed all traces of multilib, 64bit libs are installed in lib/

  18 Jul 2003; Will Woods <wwoods@gentoo.org> glibc-2.3.2-r1.ebuild:
  Marked stable for alpha

  17 Jul 2003; Alex Veber <coronalvr@gentoo.org> glibc-2.3.2-r1.ebuild:
  set !app-emulation/winex-cvs

  16 Jul 2003; Jay Pfeifer <pfeifer@gentoo.org> glibc-2.3.2-r1.ebuild:
  set stable on x86
  set !app-emulation/winex

  01 Jul 2003; Luca Barbato <lu_zero@gentoo.org> glibc-2.3.2-r1.ebuild:
  set stable on ppc

  14 Jun 2003; Tavis Ormandy <taviso@gentoo.org> glibc-2.3.2-r1.ebuild,
  glibc-2.3.2-r2.ebuild, files/2.3.2/glibc-2.3.2-decc-compaq.patch:
  fixing ccc compatability, minor patch only applied on alpha.

  05 Jun 2003; Christian Birchinger <joker@gentoo.org> glibc-2.3.1-r4.ebuild:
  Replaced sparc64 CFLAGS hack with replace-sparc64-flags from flag-o-matic

  02 Jun 2003; Joshua Kinard <kumba@gentoo.org> glibc-2.3.2-r1.ebuild:
  Added ~mips to KEYWORDS

  18 May 2003; Martin Schlemmer <azarah@gentoo.org> :
  Fix LICENSE to be LGPL-2, bug #19074.  Fix glibc-2.3* < 2.3.2-r2 to depend
  on <gcc-3.3.

  18 May 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r1.ebuild,
  glibc-2.3.2-gcc33-sscanf.patch :
  Downgrade nptl to version 0.28 and add glibc-2.3.2-gcc33-sscanf.patch to
  fix compile errors with gcc-3.3:

    http://sources.redhat.com/ml/libc-alpha/2003-03/msg00052.html

*glibc-2.3.2-r2 (18 May 2003)

  18 May 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r2.ebuild :
  New version.  Update to cvs 20030517 to fix problems with gcc-3.3.  Also
  closes bug #18744 as it adds the en_US.utf8 locale.  Also enable NPTL
  support for i[45]86, ppc and mips, as it should in theory work now.

  14 May 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r{0,1}.ebuild :

  Some MIPS updates from Kumba <kumba@gentoo.org>:
    A few patches only for the MIPS platform.  Descriptions of what they
    do can be found in the patch headers.
    <tuxus@gentoo.org> thx <dragon@gentoo.org> (11 Jan 2003)
    <kumba@gentoo.org> remove tst-rndseek-mips & ulps-mips patches

  06 Apr 2003; Martin Schlemmer <azarah@gentoo.org> :
  Fix all 2.3 ebuild to install timezone data if 'build' in USE, bug #16530.

*glibc-2.3.2-r1 (06 Apr 2003)

  19 Apr 2003; Joshua Brindle <method@gentoo.org> glibc-2.3.1-r4.ebuild:
  give error and die if both sandbox and -fstack-protector are enabled

  06 Apr 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2-r1.ebuild :
  Fix calculation problems in allocate_static_tls that caused a TLS
  enabled app that loads libGL.so to segfault.  Thanks to Gareth Hughes
  from NVidia for pointing me in the right direction.  This patch is
  from glibc CVS.

  30 Mar 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2.ebuild :
  Update NPTL version to 0.29.  As it is not used by many (or I cannot
  imagine it), and with the errno problems, I will rather not bump the
  revision.  Note that latest version is 0.32, but that (as well as 0.30
  and up) needs glibc-2.3.3 snapshot.

*glibc-2.3.1-r4 (21 Mar 2003)

  14 Apr 2003; Joshua Brindle <method@gentoo.org> glibc-2.3.1-r4.ebuild:
  give error and die if both sandbox and -fstack-protector are enabled

  06 Apr 2003; Zach Welch <zwelch@gentoo.org> glibc-2.3.1-r4.ebuild:
  add arm keyword

  06 Apr 2003; Christian Birchinger <joker@gentoo.org> glibc-2.3.1-r4.ebuild:
  Changed replace-flags for sparc

  21 Mar 2003; Daniel Ahlberg <aliz@gentoo.org> glibc-2.3.1-r4.ebuild :
  Security update.

*glibc-2.2.5-r8 (21 Mar 2003)

  06 Apr 2003; Christian Birchinger <joker@gentoo.org> glibc-2.2.5-r8.ebuild:
  Added replace-flags for sparc

  21 Mar 2003; Daniel Ahlberg <aliz@gentoo.org> glibc-2.2.5-r8.ebuild :
  Security update.

  11 Mar 2003; Zach Welch <zwelch@gentoo.org>
  files/2.2.5/glibc-2.2.5-arm-sysdeps-fix.diff:
  fix arm sysdep patch to not require autoconf

  09 March 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1*.ebuild :
  Add patch glibc-2.3.1-typeo_dl-runtime_c.patch to fix issues with Oracle,
  bug #16504, thanks to Tri D. Hoang <tdhoang@ultramain.com> for reporting.

*glibc-2.3.2 (05 March 2003)

  06 Apr 2003; Christian Birchinger <joker@gentoo.org> glibc-2.3.2.ebuild:
  Changed replace-flags for sparc

  11 Mar 2003; Zach Welch <zwelch@gentoo.org> glibc-2.2.5-r7.ebuild,
  glibc-2.3.1-r2.ebuild, glibc-2.3.1-r3.ebuild, glibc-2.3.2.ebuild:
  change sys-kernel/linux-headers to new virtual/os-headers

  05 March 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2.ebuild :
  Update version.  Thanks to Georg Müller <georgmueller@gmx.net> for notifying
  me.

*glibc-2.3.2_pre1 (24 Feb 2003)

  24 Feb 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.2_pre1.ebuild :
  Update version to official pre1 of 2.3.2.  Add NPTL support .. note that
  this is extremely experimental and does not work with the nvidia drivers
  among things.  Many other tweak and updates.

  20 Feb 2003; Zach Welch <zwelch@gentoo.org> glibc-2.2.5-r7.ebuild :
  Added patches for arm. See patches for description of each.
  Added arm keyword.

  09 Feb 2003; Guy Martin <gmsoft@gentoo.org> :
  Added patches for hppa. See patches for description of each.
  Added hppa to keywords.

  29 Jan 2003; Jack Morganan <jmorgan@gentoo.org> glibc-2.3.1-r3.ebuild :
  Changed ~sparc to sparc

  23 Jan 2003; Jan Seidel <tuxus@gentoo.org> glibc-2.3.1-r3.ebuild :
  Add MIPS inline-syscall-mips patch

  16 Jan 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r3.ebuild :

  Sync patches.

  15 Jan 2003; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r2.ebuild :

  Fix 'locale -a' not listing all locales.  This to Stefan Jones
  <cretin@gentoo.org> for this fix, bug #13240.

  Add MIPS patches, thanks to <tuxus@gentoo.org> and <dragon@gentoo.org>.

  Reload init to fix fsck on reboot ...

  28 Dec 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r3.ebuild :

  Always add --with-headers=${ROOT}usr/include as option to ./configure, as
  linux-headers are usually well tested, and in some cases we get weird
  problems ...

  16 Dec 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r2.ebuild :

  Add -freorder-blocks for x86 (commented).  Add Method's replace-flags for
  sparc support.

  13 Dec 2002; Mark Guertin <gerk@gentoo.org> glibc-2.3.1-r2.ebuild :
  
  Marked stable for ppc

  10 Dec 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r2.ebuild :
  
  Mark as stable for x86.

  06 Dec 2002; Rodney Rees <manson@gentoo.org> :

  Changed sparc ~sparc keywords
 
*glibc-2.3.1-r2 (7 Nov 2002)

  17 Nov 2002; Stefan Jones <cretin@gentoo.org> glibc-2.3.1-r2.ebuild :

  Small patch "prelinkfix" which fixes rare error with prelinking and
  preloading some executables. Patch taken from glibc CVS.
  http://sources.redhat.com/ml/libc-alpha/2002-11/msg00151.html

  16 Nov 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r2.ebuild :

  Fix type-o that caused manpages not installing (bug #10645).
  Update to use epatch.

  16 Nov 2002: Stefan Jones <cretin@gentoo.org> glibc-2.3.1-r2.ebuild :
  Changed --with-header to --with-headers to fix fake configure option.

  10 Nov 2002: Stefan Jones <cretin@gentoo.org> glibc-2.3.1-r2.ebuild :

  Made sparc64's always use the system linux headers instead of the kernel 
  headers. This fixes the 64bit sparc compile errors, see bug #10470.
  
  7 Nov 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r2.ebuild :

  Second try at ctype-compat.patch.  Add stack_end-compat patch for missing
  libc_stack_end symbold in linker.

  30 Oct 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r1.ebuild :

  One more compat issue which breaks sun-jdk-1.3.1.  See bug #8766 for more
  info, and also:

    http://sources.redhat.com/ml/libc-alpha/2002-04/msg00143.html

  Thanks to Jan Gutter <jangutter@tuks.co.za> for reporting it.  Added
  libc_wait-compat.patch as fix.

*glibc-2.3.1-r1 (26 Oct 2002)

  16 Nov 2002: Stefan Jones <cretin@gentoo.org> glibc-2.3.1-r1.ebuild :
  Changed --with-header to --with-headers to fix fake configure option.
  
  26 Oct 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.3.1-r1.ebuild :

  Add the ctype-compat.patch to fix unresolved symbols in old static binaries
  and libraries.  See bug #8766, #9586 and:

    http://lists.debian.org/debian-glibc/2002/debian-glibc-200210/msg00093.html

  We should think about remoing it in the future after things have settled.

*glibc-2.2.5-r7 (13 Oct 2002)

  16 Nov 2002: Stefan Jones <cretin@gentoo.org> glibc-2.2.5-r7.ebuild :
  Changed --with-header to --with-headers to fix fake configure option.
  
  14 Nov 2002; Mark Guertin <gerk@gentoo.org> glibc-2.2.5-r7.ebuild :
  backed out semctl patches for ppc, they cause problems with mozilla builds

  29 Oct 2002; Jon Nall <nall@gentoo.org> glibc-2.2.5-r7.ebuild :

  Added sqrtl patch for ppc. This closes bug #9796. Also added semctl
  patch for ppc.

  29 Oct 2002; Seemant Kulleen <seemant@gentoo.org> glibc-2.2.5-r7.ebuild :

  Added semctl patch for sparc.  Thanks to nall <nall@gentoo.org> for
  finding this at:
  http://sources.redhat.com/ml/libc-hacker/2002-04/msg00071.html

  13 Oct 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r7.ebuild :

  Some cleanups.  Tidy ebuild.  Move all patches to ${FILESDIR}/${PV/.
  Remove old patches.

  Add patches to fix warnings with gcc-3.2:

    http://archive.linuxfromscratch.org/mail-archives/lfs-dev/2002/08/0228.html

  13 Oct 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r7.ebuild :

  Fix stupid depend screwup I made when I merged in fixes from glibc-2.3.

  11 Oct 2002; Seemant Kulleen <seemant@gentoo.org> glibc-2.2.5-r7.ebuild
  files/glibc-2.2.5-sparc-misc.diff files/glibc-2.2.5-sparc64-fixups.diff :

  Added patches from debian's patch set to fix miscellaneous issues on sparc
  and sparc64.  One indication of the hassle with sparc64 was the mozilla
  compile failure.  That _should_ be sorted out now.

  09 Oct 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r7.ebuild,
                                                    glibc-2.2.5-divdi3.diff :

  Add divdi3 patches for PPC, thanks to nall <nall@themountaingoats.net>.

*glibc-2.2.5-r8 (27 Sep 2002)
  
  27 Sep 2002; Daniel Ahlberg <aliz@gentoo.org> :
  Moved -r7 to -r8 to give room for updated -r6 release.

*glibc-2.2.5-r7 (03 Aug 2002)

  27 Sep 2002; Daniel Ahlberg <aliz@gentoo.org> :
  Bumped -r6 to -r7 to include fix for sunrpc overflow.  

  03 Aug 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r7.ebuild :

  Add the patch for fixing the segfaults in mutt, etc while sandbox is
  running back in.  Seems the relocation problems was also a cause of
  the atexit() bug, and fixed in gcc-2.95.3-r7 and later.

   http://sources.redhat.com/ml/bug-glibc/2002-04/msg00025.html
   http://bugs.gentoo.org/show_bug.cgi?id=501

*glibc-2.2.5-r6 (02 Aug 2002)

  22 Sep 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r6.ebuild :

  Fix pic support, thanks to Christopher Horler <chris@horler.demon.co.uk>.
  This closes bug #8178.

  08 Sep 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r6.ebuild :

  Add alpha related patches thanks to Bjoern Brauel <bjoern@tuxnetwork.de>.

  02 Aug 2002; Daniel Ahlberg <aliz@gentoo.org>
  Added patch for sunrpc overflow.

*glibc-2.2.5-r5 (14 Jul 2002)

  15 Jul 2002; Mark Guertin <gerk@gentoo.org>
  Added ppc to keywords

  14 Jul 2002; Martin Schlemmer <azarah@gentoo.org> glibc-2.2.5-r5.ebuild :

  A buffer overflow vulnerability exists in multiple implementations of DNS
  resolver libraries.  This affects glibc-2.2.5 and earlier.   See bug #4923
  and:

    http://www.cert.org/advisories/CA-2002-19.html

  for details.

  Seems gcc-3.1.1 is even more strict than 3.1 .. patch glibc for gcc-3.1.1.
  This is also correct for previous gcc versions.

*glibc-2.2.5-r4 (5 June 2002)

  5 June 2002; Bart Verwilst <verwilst@gentoo.org> glibc-2.2.5-r4.ebuild :

  Added gcc3.1/binutils 2.12 patch, wich solves the nvidia-glx package, 
  amongst others... (__divdi3 stuff)
  Update: Filtered -malign-double out of the ebuild as well now, because 
  it b0rks glibc.
  

  13 Apr 2002; M.Schlemmer <azarah@gentoo.org> glibc-2.2.5-r2.ebuild :

  Try to fix the pkg_postinst() and /etc/localtime issue sanely.  It just
  newking my /etc/localtime with a symlink was starting to get irritating.

*glibc-2.2.5-r3 (03 Apr 2002)

  03 Apr 2002; Geert Bevin <gbevin@gentoo.org> glibc-2.2.5-r3.ebuild,
  files/digest-glibc-2.2.5-r3, files/glibc-2.2.5-sandbox.diff :
  
  Added patch that fixes an ld.so.preload bug which made calls after freopen()
  segfault. This now works correctly. This closes bug #501
   
*glibc-2.2.5-r1 (15 Feb 2002)

  15 Feb 2002; Daniel Robbins <drobbins@gentoo.org>: Added tweaked version of
  Brandon Low's patch that ensures that library symlinks are installed *after*
  (not before) the actual libraries are installed.  This should fix glibc merge
  deaths, but we need a generic solution to solve this problem.  This should
  close bug #695.  Filing a new bug for adding this functionality to Portage.

*glibc-2.2.5 (10 Feb 2002)

  10 Feb 2002; Daniel Robbins <drobbins@gentoo.org>:  New glibc release for testing
  only.  Masked.

*glibc-2.2.4-r9 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
