# Copyright 1999-2005 Gentoo Foundation
# Distributed under the terms of the GNU General Public License v2
# $Header: /var/cvsroot/gentoo-x86/dev-libs/libexploit/libexploit-0.2.ebuild,v 1.2 2005/02/08 12:07:59 ka0ttic Exp $

DESCRIPTION="generic exploit creation (overflows/format strings) library"
HOMEPAGE="http://www.packetfactory.net/projects/libexploit/"
SRC_URI="http://www.packetfactory.net/projects/libexploit/LibExploitV${PV/./}.tar.gz"

LICENSE="GPL-2"
SLOT="0"
KEYWORDS="x86"
IUSE=""

DEPEND="virtual/libc"

S=${WORKDIR}/LibExploit

src_compile() {
	cd ${S}/src
	emake CFLAGS="${CFLAGS} -I../include/" || die "emake failed"
}

src_install() {
	dolib.a src/libexploit.a || die "failed to install archives"

	insinto /usr/include
	doins include/* || die "failed to install headers"

	dodir /usr/share/${PF}-src
	cp -rf examples/* ${D}/usr/share/${PF}-src/ || die "failed to install examples"

	dodoc README ChangeLog doc/*
}
