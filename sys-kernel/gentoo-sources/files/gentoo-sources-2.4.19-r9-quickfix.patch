--- linux/kernel/ksyms.c	Wed Sep  4 23:26:43 2002
+++ linux/kernel/ksyms.c.new	Wed Sep  4 23:27:07 2002
@@ -123,8 +123,6 @@
 EXPORT_SYMBOL(kunmap_high);
 EXPORT_SYMBOL(highmem_start_page);
 EXPORT_SYMBOL(create_bounce);
-EXPORT_SYMBOL(kmap_prot);
-EXPORT_SYMBOL(kmap_pte);
 #endif
 
 /* filesystem internal functions */
--- linux/include/linux/skbuff.h	Sun Sep  8 14:11:22 2002
+++ linux/include/linux/skbuff.h.new	Sun Sep  8 14:09:38 2002
@@ -194,7 +194,7 @@
 	unsigned char 	*end;			/* End pointer					*/
 
 	void 		(*destructor)(struct sk_buff *);	/* Destruct function		*/
-#if defined ( CONFIG_NETFILTER || CONFIG_IPSEC )
+#if defined(CONFIG_NETFILTER) || defined(CONFIG_IPSEC) || defined(CONFIG_IPSEC_MODULE)
 	/* Can be used for communication between hooks. */
         unsigned long	nfmark;
 	/* Cache info */
--- linux-2.4.19-gentoo-r9/include/linux/netfilter_ipv4/ip_conntrack_core.h.o	Thu Sep 19 16:51:11 2002
+++ linux-2.4.19-gentoo-r9/include/linux/netfilter_ipv4/ip_conntrack_core.h	Thu Sep 19 16:51:19 2002
@@ -1,5 +1,7 @@
 #ifndef _IP_CONNTRACK_CORE_H
 #define _IP_CONNTRACK_CORE_H
+
+#include <linux/netfilter.h>
 #include <linux/netfilter_ipv4/lockhelp.h>
 
 /* This header is used to share core functionality between the
