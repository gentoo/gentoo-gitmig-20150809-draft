diff -ru libquicktime-0.9.10-orig/configure.ac libquicktime-0.9.10/configure.ac
--- libquicktime-0.9.10-orig/configure.ac	2006-12-13 17:27:44.000000000 +0100
+++ libquicktime-0.9.10/configure.ac	2006-12-13 20:25:22.000000000 +0100
@@ -154,7 +154,11 @@
 have_vorbis=false
 AH_TEMPLATE([HAVE_VORBIS], [Vorbis libraries are there])
   
+AC_ARG_ENABLE([vorbis], AS_HELP_STRING([--disable-vorbis], [Build without vorbis library (default: test)]))
+
+if test "x$enable_vorbis" != "xno"; then
 XIPH_PATH_VORBIS(have_vorbis=true)
+fi
 AM_CONDITIONAL(HAVE_VORBIS, test x$have_vorbis = xtrue)
   
 if test x$have_vorbis = xtrue; then
@@ -170,6 +174,10 @@
 LAME_REQUIRED="3.93"
 have_lame="false"
 
+AC_ARG_WITH([lame], AS_HELP_STRING([--without-lame], [Build without lame library (default: test)]))
+
+if test "x$with_lame" != "xno"; then
+
 OLD_CFLAGS=$CFLAGS
 OLD_LIBS=$LIBS
 
@@ -221,6 +229,8 @@
 AC_SUBST(LAME_LIBS)
 AC_SUBST(LAME_REQUIRED)
 
+fi
+
 AM_CONDITIONAL(HAVE_LAME, test x$have_lame = xtrue)
 
 dnl
@@ -249,6 +259,10 @@
 
 AH_TEMPLATE([HAVE_GL], [Do we have OpenGL?])
 
+AC_ARG_WITH([opengl], AS_HELP_STRING([--without-opengl], [Build without opengl library (default: test)]))
+
+if test "x$with_opengl" != "xno"; then
+
 have_gl="yes"
 
 AC_CHECK_HEADER([GL/gl.h],[],have_gl="no")
@@ -265,6 +279,8 @@
 AC_DEFINE(HAVE_GL,1)
 fi
 
+fi
+
 dnl
 dnl Check for Alsa
 dnl
@@ -273,8 +289,15 @@
 
 AH_TEMPLATE([HAVE_ALSA], [Do we have Alsa?])
 
-ALSA_REQUIRED="0.9"
-PKG_CHECK_MODULES(ALSA, alsa >= $ALSA_REQUIRED, have_alsa="true", have_alsa="false")
+AC_ARG_WITH([alsa], AS_HELP_STRING([--without-alsa], [Build without alsa library (default: test)]))
+
+if test "x$with_alsa" != "xno"; then
+
+  ALSA_REQUIRED="0.9"
+  PKG_CHECK_MODULES(ALSA, alsa >= $ALSA_REQUIRED, have_alsa="true", have_alsa="false")
+
+fi
+
 AM_CONDITIONAL(HAVE_ALSA, test x$have_alsa = xtrue)
 
 if test x$have_alsa = xtrue; then
@@ -298,7 +321,12 @@
 dnl This is neccesary for the utils/gtk subdirectory
 dnl
 GTK_REQUIRED="2.4.0"
-AM_PATH_GTK_2_0($GTK_REQUIRED, have_gtk=true, have_gtk=false)
+AC_ARG_WITH([gtk], AS_HELP_STRING([--without-gtk], [Build without gtk library (default: test)]))
+
+if test "x$with_gtk" != "xno"; then
+  AM_PATH_GTK_2_0($GTK_REQUIRED, have_gtk=true, have_gtk=false)
+fi
+
 AM_CONDITIONAL(HAVE_GTK, test x$have_gtk = xtrue)
 AC_SUBST(GTK_REQUIRED)
 
@@ -309,14 +337,20 @@
 dnl Check for libdv
 dnl
 
+AC_ARG_WITH([libdv], AS_HELP_STRING([--without-libdv], [Build without libdv support (default: test)]))
+
 have_libdv="false"
 
 LIBDV_REQUIRED="0.102"
 
-PKG_CHECK_MODULES(LIBDV, libdv >= $LIBDV_REQUIRED, have_libdv="true", have_libdv="false")
-AC_SUBST(LIBDV_REQUIRED)
-AC_SUBST(LIBDV_LIBS)
-AC_SUBST(LIBDV_CFLAGS)
+if test "x$with_libdv" != "xno"; then
+
+  PKG_CHECK_MODULES(LIBDV, libdv >= $LIBDV_REQUIRED, have_libdv="true", have_libdv="false")
+  AC_SUBST(LIBDV_REQUIRED)
+  AC_SUBST(LIBDV_LIBS)
+  AC_SUBST(LIBDV_CFLAGS)
+
+fi
 
 AM_CONDITIONAL(HAVE_LIBDV, test x$have_libdv = xtrue)
 
@@ -324,6 +358,10 @@
 dnl Check for libjpeg
 dnl
 
+AC_ARG_WITH([jpeg], AS_HELP_STRING([--without-jpeg], [Build without jpeg library (default: test)]))
+
+if test "x$with_jpeg" != "xno"; then
+
 JPEG_REQUIRED="6b"
 AC_CHECK_LIB(jpeg, jpeg_start_compress,
 	    [ JPEG_LIBS="-ljpeg"
@@ -333,6 +371,7 @@
 AC_SUBST(JPEG_LIBS)
 AC_SUBST(JPEG_CFLAGS)
 AC_SUBST(JPEG_REQUIRED)
+fi
 AM_CONDITIONAL(HAVE_LIBJPEG, test x$have_libjpeg = xtrue)
 
 dnl
@@ -344,6 +383,10 @@
 
 have_libavcodec=false
 
+AC_ARG_WITH([ffmpeg], AS_HELP_STRING([--without-ffmpeg], [Build without ffmpeg library (default: test)]))
+
+if test "x$with_ffmpeg" != "xno"; then
+
 AVCODEC_BUILD="3277056"
 
 dnl PKG_CHECK_MODULES(AVCODEC, avcodec_acl = $AVCODEC_REQUIRED, have_libavcodec="true", have_libavcodec="false")
@@ -351,6 +394,8 @@
 
 AVCODEC_REQUIRED=$AVCODEC_VERSION
 
+fi
+
 AM_CONDITIONAL(HAVE_LIBAVCODEC, test x$have_libavcodec = xtrue)
 
 AC_SUBST(AVCODEC_REQUIRED)
@@ -366,6 +411,10 @@
 have_libpng=false
 PNG_REQUIRED="1.0.8"
 
+AC_ARG_WITH([png], AS_HELP_STRING([--without-png], [Build without png library (default: test)]))
+
+if test "x$with_png" != "xno"; then
+
 OLD_CFLAGS=$CFLAGS
 OLD_LIBS=$LIBS
 
@@ -395,6 +444,8 @@
 AC_SUBST(PNG_LIBS)
 AC_SUBST(PNG_REQUIRED)
 
+fi
+
 AM_CONDITIONAL(HAVE_LIBPNG, test x$have_libpng = xtrue)
 
 dnl
@@ -407,6 +458,12 @@
 
 if test $have_gpl = "true"; then
 
+AC_ARG_WITH([faac], AS_HELP_STRING([--without-faac], [Build without faac library (default: test)]))
+
+if test "x$with_faac" != "xno"; then
+OLD_CFLAGS=$CFLAGS
+OLD_LIBS=$LIBS
+
 LIBS="$LIBS -lfaac -lm"
 CFLAGS="$CFLAGS"
 
@@ -448,6 +505,8 @@
 AC_SUBST(FAAC_LIBS)
 AC_SUBST(FAAC_REQUIRED)
 
+fi
+
 AM_CONDITIONAL(HAVE_FAAC, test x$have_faac = xtrue)
 
 if test x$have_faac = xtrue; then
@@ -464,6 +523,11 @@
 
 if test $have_gpl = "true"; then
 
+
+AC_ARG_WITH([faad2], AS_HELP_STRING([--without-faad2], [Build without faad2 library (default: test)]))
+
+if test "x$with_faad2" != "xno"; then
+
 AC_MSG_CHECKING(for faad2)
 
 OLD_CFLAGS=$CFLAGS
@@ -505,6 +569,8 @@
 
 fi
 
+fi
+
 AC_SUBST(FAAD2_CFLAGS)
 AC_SUBST(FAAD2_LIBS)
 AC_SUBST(FAAD2_REQUIRED)
@@ -524,12 +590,17 @@
 if test $have_gpl = "true"; then
 X264_REQUIRED="0.48"
 
+AC_ARG_WITH([x264], AS_HELP_STRING([--without-x264], [Build without x264 library (default: test)]))
+
+if test "x$with_x264" != "xno"; then
+
 PKG_CHECK_MODULES(X264, x264 >= $X264_REQUIRED, have_x264="true", have_x264="false")
 AC_SUBST(X264_REQUIRED)
 AC_SUBST(X264_LIBS)
 AC_SUBST(X264_CFLAGS)
 
 fi
+fi
 AM_CONDITIONAL(HAVE_X264, test x$have_x264 = xtrue)
 
 if test "x$prefix" = xNONE; then
