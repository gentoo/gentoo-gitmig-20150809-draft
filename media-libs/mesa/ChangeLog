# ChangeLog for media-libs/mesa
# Copyright 2002-2005 Gentoo Foundation; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/media-libs/mesa/ChangeLog,v 1.32 2005/08/22 03:39:25 spyderous Exp $

  22 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  -files/fix-include-locations.patch, -files/fix-xthreads-location.patch,
  -files/use-xthreads.patch, -mesa-6.3.1.1.ebuild, -mesa-6.3.1.1-r1.ebuild,
  -mesa-6.3.1.1-r2.ebuild:
  Pull old versions.

  20 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  mesa-6.3.1.1-r3.ebuild:
  Stop installing glut headers to avoid conflicts with virtual/glut providers.
  Reported by Andrej Kacian <ticho@gentoo.org>.

  17 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  mesa-6.3.1.1-r3.ebuild:
  Add x11-proto/printproto to DEPEND on USE=motif.

  16 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  mesa-6.3.1.1-r3.ebuild:
  libOSMesa isn't building anymore, so stop symlinking and installing libtool
  archives.

*mesa-6.3.1.1-r3 (16 Aug 2005)

  16 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +mesa-6.3.1.1-r3.ebuild:
  Fix direct rendering on r200 by adding USING_EGL=0. Turning off EGL takes a
  lot of work.

  15 Aug 2005; Herbie Hopkins <herbs@gentoo.org> mesa-6.3.1.1-r2.ebuild:
  Fix multilib issue and add ~amd64 keyword.

  15 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  mesa-6.3.1.1-r2.ebuild:
  Install libGL.la to /usr/lib/opengl/xorg-x11/lib, where libGL.so really is,
  instead of /usr/lib. This only seems necessary because of the LDPATH hack in
  opengl-update.

*mesa-6.3.1.1-r2 (14 Aug 2005)

  14 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +files/change-default-dri-driver-dir.patch,
  +files/dont-install-gles-headers.patch, +mesa-6.3.1.1-r2.ebuild:
  Stop building EGL things, because they aren't ready upstream. Also the EGL
  demos rely on glut, which creates a circular dependency. Change the default
  DRI driver directory to the one we actually use. This should be enough to
  get direct rendering working.

*mesa-6.3.1.1-r1 (12 Aug 2005)

  12 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +mesa-6.3.1.1-r1.ebuild:
  Bump to update to CVS head as of yesterday.

  12 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; mesa-6.3.1.1.ebuild:
  Turn parallel build back off. Can get problems with depend files not existing.

  12 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; mesa-6.3.1.1.ebuild:
  Test out parallel make. fmccor says it works.

  12 Aug 2005; Ferris McCormick <fmccor@gentoo.org> mesa-6.3.1.1.ebuild:
  1. General cleanup for sparc, get rid of the ill-considered
     IUSE=dri;
  2. Make sure to install the actual dri drivers as well as the
     base libGL package.

  11 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; Manifest:
  Fix manifest.

  11 Aug 2005; Ferris McCormick <fmccor@gentoo.org> mesa-6.3.1.1.ebuild:
  Following changes build a reunning libGL for sparc testing and set
  a sane set of DRI drivers, depending on USE=dri flag:
  1.	With dri, sparc assembly appears to be unusable.  This is because
  	the build and directory structures have been changed so that the
  	actual initialization code moves to the dri drivers themselves
  	when sparc assembly is built.  Correcting this is nontrivial,
  	because the glx build uses hard-defined source names and paths.
  2.	With USE=dri, on sparc build only a subset of the full complement
  	of drivers.  For now, DRI_DIRS = fb ffb mach64 mga radeon savage
  3.  Without USE=dri, change the target to (generic) linux-sparc.  In
  	this case, architecture is actually set by CFLAGS passed in to the
  	configure target, and both glx-capable and stand-alone versions
  	of libGL are built.
  4.  For testing, and perhaps ultimately for performance, on sparc, unless
  	USE=dri, do not fix_opengl_symlinks
  With these changes in place,
  LD_LIBRARY_PATH=<path-to-libGL>:<path-to-libGLU> some-libGL-program
  works fine.

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +files/fix-include-locations.patch, mesa-6.3.1.1.ebuild:
  Add fix-include-locations.patch to standardize include locations to
  <X11/extensions/foo.h> instead of some mixture of <foo.h> and "foo.h."

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +files/makedepend-location.patch, mesa-6.3.1.1.ebuild:
  Add makedepend-location.patch to stop mesa from looking in /usr/X11R6/bin.

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; mesa-6.3.1.1.ebuild:
  Add dep on >=x11-proto/glproto-1.4-r1.

  10 Aug 2005; Ferris McCormick <fmccor@gentoo.org> mesa-6.3.1.1.ebuild:
  1.  Correct echo "$(...)" to echo "\$(...)";
  2.  When building for sparc, make sure that:
  	a.  Use sparc assembly versions where appropriate;
  	b.  Make sure sparc-specific sources are built;
  	c.  For testing, don't actually build the dri drivers
  	    because they are known not to work.
  	d.  TODO:  Figure out why two versions of libGL are built,
  		and why the install ends up linking to the incorrect
  		version (the one with the undefined externals).

  10 Aug 2005; Ferris McCormick <fmccor@gentoo.org> mesa-6.3.1.1.ebuild:
  Add ~sparc keyword (X modular testing).

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; mesa-6.3.1.1.ebuild:
  Add dep on >=opengl-update-2.2.2.

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; mesa-6.3.1.1.ebuild:
  Add fix_opengl_symlinks() from xorg-x11, to set up the libGL symlinks.

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; mesa-6.3.1.1.ebuild:
  Stop cleaning out /usr/lib/opengl/xorg-x11, now that two other packages also
  install to it.

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>; -mesa-3.5.ebuild:
  Drop old version.

*mesa-6.3.1.1 (10 Aug 2005)

  10 Aug 2005; Donnie Berkholz <spyderous@gentoo.org>;
  +files/fix-xthreads-location.patch, +files/lib/libGL.la,
  +files/lib/libGLU.la, +files/lib/libOSMesa.la, +files/use-xthreads.patch,
  +mesa-6.3.1.1.ebuild:
  Add for modular X.

  07 Jun 2004; Aron Griffis <agriffis@gentoo.org> mesa-3.5.ebuild:
  Fix use invocation

  24 Nov 2003; Aron Griffis <agriffis@gentoo.org> mesa-3.5.ebuild:
  Add ~alpha

  06 Dec 2002; Rodney Rees <manson@gentoo.org> : changed sparc ~sparc keywords
 
*mesa-3.5 (22 Jul 2002)

  22 Jul 2002; Seemant Kulleen <seemant@gentoo.org> mesa-3.5.ebuild
  files/digest-mesa-3.5 :

  This was updated a while ago. I repoman'd it, and cleaned up spacing and
  syntax a little.

*mesa-3.4.2 (1 Feb 2002)

  1 Feb 2002; G.Bevin <gbevin@gentoo.org> ChangeLog :
  
  Added initial ChangeLog which should be updated whenever the package is
  updated in any way. This changelog is targetted to users. This means that the
  comments should well explained and written in clean English. The details about
  writing correct changelogs are explained in the skel.ChangeLog file which you
  can find in the root directory of the portage repository.
