--- tp_smapi-0.37/thinkpad_ec.c.orig	2008-09-22 22:12:09.000000000 +0200
+++ tp_smapi-0.37/thinkpad_ec.c	2008-09-22 22:12:16.000000000 +0200
@@ -36,7 +36,7 @@
 #include <linux/delay.h>
 #include <linux/thinkpad_ec.h>
 #include <linux/jiffies.h>
-#include <asm/semaphore.h>
+#include <linux/semaphore.h>
 #include <asm/io.h>
 
 #define TP_VERSION "0.37"
