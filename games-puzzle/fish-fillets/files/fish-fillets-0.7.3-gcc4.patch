--- configure.in
+++ configure.in
@@ -89,21 +89,31 @@ AC_CHECK_LIB([SDL_ttf], [TTF_OpenFont],
 
 ###################################################
 # Test X11
-OLD_CPPFLAGS="$CPPFLAGS"
-CPPFLAGS="$CPPFLAGS $SDL_CFLAGS"
-AC_TRY_COMPILE([
-    #include "SDL.h"
-    #include "SDL_syswm.h"
-    #include <X11/Xutil.h>
-    ], [
-    SDL_SysWMinfo info;
-    info.subsystem = SDL_SYSWM_X11;
-    ], [have_x11="yes"], [have_x11="no"])
-CPPFLAGS="$OLD_CPPFLAGS"
-if test "x$have_x11" = xyes; then
-    AC_DEFINE(HAVE_X11)
+X_LIBS=""
+AC_ARG_WITH(X,
+	[AC_HELP_STRING([--with-x],[enable X window manager support [default=detect]])],
+	[with_x11=$withval],[with_x11="maybe"])
+if test "x$with_x11" != "xno" ; then
+	AC_CHECK_LIB([X11], [Xutf8TextListToTextProperty], [with_x11="yes"], [with_x11="no"])
+	if test "x$with_x11" != "xno" ; then
+		OLD_CPPFLAGS="$CPPFLAGS"
+		CPPFLAGS="$CPPFLAGS $SDL_CFLAGS"
+		AC_TRY_COMPILE([
+		    #include "SDL.h"
+		    #include "SDL_syswm.h"
+		    #include <X11/Xutil.h>
+		    ], [
+		    SDL_SysWMinfo info;
+		    info.subsystem = SDL_SYSWM_X11;
+		    ], [have_x11="yes"], [have_x11="no"])
+		CPPFLAGS="$OLD_CPPFLAGS"
+		if test "x$have_x11" = xyes; then
+		    AC_DEFINE(HAVE_X11)
+			X_LIBS="-lX11"
+		fi
+	fi
 fi
-
+AC_SUBST(X_LIBS)
 
 ###################################################
 # Test FriBidi
--- src/game/Makefile.am
+++ src/game/Makefile.am
@@ -18,4 +18,4 @@ ICON_LIBS =
 endif
 
 
-fillets_LDADD = $(ICON_LIBS) ../menu/libmenu.a ../level/liblevel.a ../state/libstate.a ../option/liboption.a ../plan/libplan.a ../widget/libwidget.a ../effect/libeffect.a ../gengine/libgengine.a $(SDL_GFX_LIBS) $(SDL_LIBS) $(LUA_LIBS) $(BOOST_LIBS) $(FRIBIDI_LIBS)
+fillets_LDADD = $(ICON_LIBS) ../menu/libmenu.a ../level/liblevel.a ../state/libstate.a ../option/liboption.a ../plan/libplan.a ../widget/libwidget.a ../effect/libeffect.a ../gengine/libgengine.a $(SDL_GFX_LIBS) $(SDL_LIBS) $(LUA_LIBS) $(BOOST_LIBS) $(FRIBIDI_LIBS) $(X_LIBS)
