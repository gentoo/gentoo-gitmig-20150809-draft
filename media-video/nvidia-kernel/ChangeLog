# ChangeLog for media-video/nvidia-kernel
# Copyright 2002-2004 Gentoo Technologies, Inc.; Distributed under the GPL v2
# $Header: /var/cvsroot/gentoo-x86/media-video/nvidia-kernel/ChangeLog,v 1.59 2004/01/23 06:21:56 augustus Exp $

*nvidia-kernel-1.0.5332 (23 Jan 2004)

  23 Jan 2004; <augustus@gentoo.org> nvidia-kernel-1.0.5332.ebuild,
  files/1.0.5332/NVIDIA-Linux-x86_64-1.0-5332-2.6.diff:
  New NVIDIA driver 5332 released to public. See NVIDIA's page for full details:
  http://www.nvidia.com/object/linux_display_amd64_1.0-5332.html

  10 Jan 2004; Martin Holzer <mholzer@gentoo.org>
  nvidia-kernel-1.0.3123-r2.ebuild, nvidia-kernel-1.0.4180.ebuild,
  nvidia-kernel-1.0.4191-r2.ebuild, nvidia-kernel-1.0.4349-r2.ebuild,
  nvidia-kernel-1.0.4363-r3.ebuild, nvidia-kernel-1.0.4496-r3.ebuild,
  nvidia-kernel-1.0.4496-r4.ebuild, nvidia-kernel-1.0.4499.ebuild,
  nvidia-kernel-1.0.5328-r1.ebuild, nvidia-kernel-1.0.5328.ebuild:
  fixing typo

*nvidia-kernel-1.0.5328-r1 (05 Jan 2004)

  05 Jan 2004; Donnie Berkholz <spyderous@gentoo.org>;
  nvidia-kernel-1.0.5328-r1.ebuild,
  files/1.0.5328/NVIDIA_kernel-1.0-5328-2.4-via-chipset-fix.patch,
  files/1.0.5328/NVIDIA_kernel-1.0-5328-2.6-20040105.diff:
  Fix for bug #36551, applying via chipset bugfix. Updating minion.de patch to
  20040105 also.

  26 Dec 2003; Donnie Berkholz <spyderous@gentoo.org>; metadata.xml:
  Adding metadata.xml.

*nvidia-kernel-1.0.5328 (26 Dec 2003)

  26 Dec 2003; Donnie Berkholz <spyderous@gentoo.org>;
  nvidia-kernel-1.0.5328.ebuild,
  files/1.0.5328/NVIDIA_kernel-1.0-5328-2.6-20031226.diff:
  Version bump.

  08 Dec 2003; <spider@gentoo.org> nvidia-kernel-1.0.2880-r1.ebuild,
  nvidia-kernel-1.0.2960-r1.ebuild, nvidia-kernel-1.0.3123-r2.ebuild,
  nvidia-kernel-1.0.4180.ebuild, nvidia-kernel-1.0.4191-r2.ebuild,
  nvidia-kernel-1.0.4349-r2.ebuild, nvidia-kernel-1.0.4363-r3.ebuild,
  nvidia-kernel-1.0.4496-r3.ebuild, nvidia-kernel-1.0.4496-r4.ebuild,
  nvidia-kernel-1.0.4499.ebuild:
  exporting _POSIX2_VERSION in the ebuilds to work around weird scripts that use
  chown foo.foo instead of foo:foo.

  02 Nov 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496-r4.ebuild:
  Add PKG_V to make sure updating the package used will not break things again.

  02 Nov 2003; Martin Holzer <mholzer@gentoo.org>
  nvidia-kernel-1.0.4496-r4.ebuild:
  minor fix. Closes #32534

*nvidia-kernel-1.0.4496-r4 (02 Nov 2003)

  02 Nov 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496-r4.ebuild,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.6-20031026.diff:
  Update nVidia package to latest (pkg2), bug #32430. Also update patch from
  http://www.minion.de/.

*nvidia-kernel-1.0.4499 (15 Oct 2003)

  15 Oct 2003; Daniel Robbins <drobbins@gentoo.org>:
  nvidia-kernel-1.0.4499.ebuild: New version of the ebuild for AMD64 systems.
  Thanks to Kris Kersey, James Jones and others for working on this. See bug
  #30799. This ebuild does need some testing; adding it so that it can be
  tested.

20 Sep 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496-r3.ebuild:
  Mark stable (bug #28330).

*nvidia-kernel-1.0.4496-r3 (07 Sep 2003)

  07 Sep 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496-r3.ebuild,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.6-20030905.diff,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.6-pci_name-20030905.diff:
  Update patches to 20030905 (bug #28061).

*nvidia-kernel-1.0.4496-r2 (07 Sep 2003)

  07 Sep 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496-r2.ebuild,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.6-bk8.diff:
  Add a patch to support kdev_t changes in 2.6.0-test4-bk8 and later.

*nvidia-kernel-1.0.4496-r1 (21 Aug 2003)

  21 Aug 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496-r1.ebuild,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.5-20030818.diff,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.6-20030818.diff:
  Add update patches from minion.de, as well as add patch for pci changes in
  latest 2.6.  I did a small change to last mentioned patch to try and make
  it more generic.

  04 Aug 2003; Martin Schlemmer <azarah@gentoo.org>
  files/1.0.4496/NVIDIA_kernel-1.0-4496-Makefile.diff:
  Fix NVIDIA_kernel-1.0-4496-Makefile.diff to not revert the tail fixes for
  coreutils.

*nvidia-kernel-1.0.4496 (29 Jul 2003)

  29 Jul 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4496.ebuild,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-2.5-20030728.diff,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-Makefile.diff,
  files/1.0.4496/NVIDIA_kernel-1.0-4496-tail.diff:
  New version.

*nvidia-kernel-1.0.4180 (18 Jul 2003)

  18 Jul 2003; Olivier Crete <tester@gentoo.org>
  nvidia-kernel-1.0.4180.ebuild:
  Added amd64 version of the driver

  14 Jul 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4363-r3.ebuild,
  files/1.0.4363/NVIDIA_kernel-1.0-4363-2.5-20030714.diff:
  Update 2.5 patch once again for 2.6.0 kernel.

*nvidia-kernel-1.0.4363-r3 (14 Jul 2003)

  14 Jul 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4363-r3.ebuild,
  files/1.0.4363/NVIDIA_kernel-1.0-4363-2.5-20030713.diff,
  files/1.0.4363/NVIDIA_kernel-1.0-4363-highpmd-20030713.diff:
  Update the 2.5 patch.  Fixup highpmd stuff, as it could be a problem in the
  way the patch does it (according to AKPM);  currently it maps an offset,
  copy the struct over, then unmap it again, and then try to use it ?!?!

  12 Jul 2003; Martin Schlemmer <azarah@gentoo.org>
  files/1.0.4363/NVIDIA_kernel-1.0-4363-highpmd.diff:
  Cleanup patch a bit more, and fix a type-o that caused the driver to fail
  initializing DMA.

  23 Jun 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4363-r2.ebuild:
  Do not write a symlink that is invalid over Makefile for 2.4 kernel.
  Bug #23304.

  22 Jun 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4363-r2.ebuild,
  files/1.0.4363/NVIDIA_kernel-1.0-4363-2.5-20030614.diff:
  Update 2.5 patch from minion.de. Some cleanups for the kernel version stuff.
  Mark stable for x86.

*nvidia-kernel-1.0.4363-r2 (26 May 2003)

  08 Jul 2003; ,,, <root@gentoo.org> nvidia-kernel-1.0.4363-r2.ebuild,
  files/1.0.4363/NVIDIA_kernel-1.0-4363-highpmd.diff:
  Add patch for 2.5.74-mm2, original patch thanks to Thomas Schlichter
  <schlicht@uni-mannheim.de> and some fixups thanks to Andrew Morton
  <akpm@osdl.org>.

  26 May 2003; Martin Schlemmer <azarah@gentoo.org>
  nvidia-kernel-1.0.4363-r2.ebuild,
  files/1.0.4363/NVIDIA_kernel-1.0-4363-2.5.69-agp.diff:
  Another patch for 2.5 kernels.

*nvidia-kernel-1.0.4363-r1 (13 May 2003)

  13 May 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4363-r1.ebuild,
  NVIDIA_kernel-1.0-4363-2.5.69.diff :
  Get it to compile with latest devfs changes in linux-2.5.69-bk8 or later.

*nvidia-kernel-1.0.4363 (26 Apr 2003)

  26 Apr 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4363.ebuild :
  New version; updated patches for this version; fix kernel version checking code
  to actually check the version of the kernel in /usr/src/linux, and NOT that of
  the running one ...

  23 Apr 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4349-r2.ebuild :
  Fix the 2.5.68 patch to only apply if 'irqreturn_t' is defined in
  linux/interrupt.h.

*nvidia-kernel-1.0.4349-r2 (22 Apr 2003)

  22 Apr 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4349-r2.ebuild :
  - Add a patch from myself to handle devfs/irq changes in 2.5.68+.  It works for
    me at least ....
  - Update the 2.5 patch to fix a memory leak.

*nvidia-kernel-1.0.4349-r1 (21 Apr 2003)

  21 Apr 2003; Jay Pfeifer <pfeifer@gentoo.org> nvidia-kernel-1.0.4349-r1.ebuild :
  Moved from ~x86 to stable.
  
  01 Apr 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4349-r1.ebuild :
  Update 2.5 patch to resolve issues with 2.5.66? and up.

*nvidia-kernel-1.0.4349 (30 Mar 2003)

  30 Mar 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4349.ebuild :
  New version, closing bug #18541.

  04 Mar 2003; Jay Pfeifer <pfeifer@gentoo.org> nvidia-kernel-1.0.4191-r2.ebuild :

  New ebuild to help solve rmap issue in bug #15722.

  17 Feb 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4191-r1.ebuild :

  Patch to handle changed include location in 2.5.61+, bug #15846.

  20 Jan 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.3123-r2.ebuild :

  Update modules for kernel 2.5.54 or later, closing bug #13915.

  19 Jan 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4191-r1.ebuild :

  Add a patch for kernel 2.5.54 or later's module loader not handling common
  sections.

  12 Jan 2003; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4191-r1.ebuild :

  Fix it for 2.5.53 or later kernel, and 2.5 in general.

  23 Dec 2002; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4191-r1.ebuild :

  Add tasklet patch for 2.5 kernels in again.

*nvidia-kernel-1.0.4191-r2 (16 Mar 2003)
 
  12 Jul 2003; Daniel Ahlberg <aliz@gentoo.org> :
  Added missing changelog entry.

*nvidia-kernel-1.0.4191-1 (18 Dec 2002)

  16 Feb 2003; Spider <spider@gentoo.org> :
  Fixed a typo in chiset  / chipset

  18 Dec 2002; Joachim Blaabjerg <styx@gentoo.org>
  nvidia-kernel-1.0.4191-1.ebuild :

  Adding ${FILESDIR}/${NV_PACKAGE}-rmap.diff, so it works with rmap kernels as
  well. It's all #ifdef'ed, so it shouldn't interfere with other AA kernels.
  Bumping anyway, per vapier's instructions ;)

  14 Dec 2002; Martin Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.4191.ebuild :
  As it seems this version need MTRR support for most chipsets, die if its not
  detected with a suited message ...  This should close bug #12015.

  11 Dec 2002; Martin Schlemmer <azarah@gentoo.org>:
  Just move $FILESDIR/nvidia-$PV to nvidia-1.1 for easier maintaining.
  Add a ewarn in pkg_postinst() about the driver name changing.  Add
  '-alpha' to KEYWORDS.

*nvidia-kernel-1.0.4191 (11 Dec 2002)

  13 Mar 2003; Martin Holzer <mholzer@gentoo.org>
  nvidia-kernel-1.0.4191-r2.ebuild, nvidia-kernel-1.0.4191.ebuild:
  fixed typo in pkg_setup.

  11 Dec 2002; Brandon Low <lostlogic@gentoo.org>:
  Update to latest version, the patches that we'd been applying are
  no longer needed as they should now be in the mainstream of the 
  package from nvidia.  Update the modules.d file for new module
  name.

  06 Dec 2002; Rodney Rees <manson@gentoo.org>:
  Changed sparc ~sparc keywords
 
*nvidia-kernel-1.0.3123-r2 (8 Dec 2002)

  8 Dec 2002; Martin Schlemmer <azarah@gentoo.org>:
  Update kernel 2.5 patches, closing bugs #11191 and #11701.

*nvidia-kernel-1.0.3123-r1 (3 Nov 2002)

  3 Nov 2002; Martin Schlemmer <azarah@gentoo.org>:
  Add page_alloc and linux-2.5 kernel patches.  Closes bug #9704.

  14 Sep 2002; Martin Schlemmer <azarah@gentoo.org>:
  Remove ftp in SRC_URI, as it seems to give some people problems.

*nvidia-kernel-1.0.3123 (12 Sep 2002)

  12 Sep 2002; Martin Schlemmer <azarah@gentoo.org>:
  Update version.

*nvidia-kernel-1.0.2960-r1 (16 Aug 2002)

  17 Aug 2002; Gustavo Felisberto <gustavo@felisberto.net>: Changed a small
  line in the ebuild so that the kernel module gets installed in
  /lib/modules/${KV}/video this way a "make modules_install" in /usr/src/linux
  will not erase the nvidia module. (added by drobbins) This closes bug #5572.
  
  16 Aug 2002; Daniel Robbins <drobbins@gentoo.org>: set SLOT to $KV, removed
  module removal and modprobing from pkg_postinst(). The module stuff had to be
  removed because NVdriver compiles for the kernel in /usr/src/linux, not
  necessarily the currently-running kernel. It's also a violation of Gentoo
  Linux policy to automatically mess with someone's modules. SLOT being set to
  $KV allows multiple sets of NVdriver modules to be installed for differing
  kernel versions. Doesn't work 100% yet because we don't yet support differing
  SLOTs for the exact same version of a package, but will soon.
  
  16 Aug 2002; Daniel Robbins <drobbins@gentoo.org>: Added the
  IGNORE_CC_MISMATCH make flag; in some cases, the NVIDIA build process tries
  to be too smart and intentionally aborts when it shouldn't. This is a
  build-related change, so no version bump (still 1.0.2960)

*nvidia-kernel-1.0.2960 (26 May 2002)

*nvidia-kernel-1.0.2880-r1 (29 Apr 2002)

  08 May 2002; Jon Nelson <jnelson@gentoo.org> nvidia-kernel-1.0.2880-r1.ebuild:
  Make sure to usr KERNDIR=/usr/src/linux /usr/src/linux should be a symlink
  pointing to the real sources, which may lie outside /usr/src.  KV is set
  appropriately in any case by more recent versions of portage.

  03 May 2002; Arcady Genkin <agenkin@thpoon.com>
  nvidia-kernel-1.0.2800-r1.ebuild: Make sure that Portage *does* set KV to
  something; bail out otherwise. ;^)
	
  29 Apr 2002; Daniel Robbins <drobbins@gentoo.org>: Changed NV_KV to KV and
  added a Portage dependency to ensure that KV is available.  Should fix some
  build problems.

*nvidia-kernel-1.0.2880 (7 Apr 2002)

  7 Apr 2002; M.Schlemmer <azarah@gentoo.org> nvidia-kernel-1.0.2880.ebuild
  Fixed all the spaces.
